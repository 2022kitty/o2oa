MWF.xApplication.cms.FormDesigner.Module=MWF.xApplication.cms.FormDesigner.Module||{};MWF.xDesktop.requireApp("cms.FormDesigner","Module.$Element",null,false);MWF.xApplication.cms.FormDesigner.Module.Button=MWF.CMSFCButton=new Class({Extends:MWF.CMSFC$Element,Implements:[Options,Events],options:{style:"default",propertyPath:"/x_component_cms_FormDesigner/Module/Button/button.html"},initialize:function(t,e){this.setOptions(e);this.path="/x_component_cms_FormDesigner/Module/Button/";this.cssPath="/x_component_cms_FormDesigner/Module/Button/"+this.options.style+"/css.wcss";this._loadCss();this.moduleType="element";this.moduleName="button";this.form=t;this.container=null;this.containerNode=null},_createMoveNode:function(){this.moveNode=new Element("div",{MWFType:"button",id:this.json.id,styles:this.css.moduleNodeMove,events:{selectstart:function(){return false}}}).inject(this.form.container);var t=new Element("button",{styles:this.css.buttonIcon,text:this.json.name||this.json.id}).inject(this.moveNode)},_loadNodeStyles:function(){var t=this.node.getFirst("button");t.setStyles(this.css.buttonIcon)},unSelected:function(){this.node.setStyles({"border-top":"1px solid #999","border-left":"1px solid #999","border-right":"1px solid #333","border-bottom":"1px solid #333"});if(this.actionArea)this.actionArea.setStyle("display","none");this.form.currentSelectedModule=null;this.hideProperty()},unOver:function(){if(!this.form.moveModule)if(this.form.currentSelectedModule!=this)this.node.setStyles({"border-top":"1px solid #999","border-left":"1px solid #999","border-right":"1px solid #333","border-bottom":"1px solid #333"})},_createCopyNode:function(){this.copyNode=new Element("div",{styles:this.css.moduleNodeShow});this.copyNode.addEvent("selectstart",function(){return false})},_getCopyNode:function(){if(!this.copyNode)this._createCopyNode();this.copyNode.setStyle("display","inline-block");return this.copyNode},_setEditStyle_custom:function(t){if(t=="name"){if(this.json.name){var e=this.node.getElement("button");e.set("text",this.json.name)}}if(t=="id"){if(!this.json.name){var e=this.node.getElement("button");e.set("text",this.json.id)}}}});