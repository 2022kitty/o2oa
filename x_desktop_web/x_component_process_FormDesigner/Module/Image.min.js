MWF.xApplication.process.FormDesigner.Module=MWF.xApplication.process.FormDesigner.Module||{};MWF.xDesktop.requireApp("process.FormDesigner","Module.$Element",null,false);MWF.xApplication.process.FormDesigner.Module.Image=MWF.FCImage=new Class({Extends:MWF.FC$Element,Implements:[Options,Events],options:{style:"default",propertyPath:"/x_component_process_FormDesigner/Module/Image/image.html"},initialize:function(s,e){this.setOptions(e);this.path="/x_component_process_FormDesigner/Module/Image/";this.cssPath="/x_component_process_FormDesigner/Module/Image/"+this.options.style+"/css.wcss";this._loadCss();this.moduleType="element";this.moduleName="image";this.form=s;this.container=null;this.containerNode=null},_createMoveNode:function(){this.moveNode=new Element("img",{MWFType:"image",id:this.json.id,src:this.json.src||this.path+this.options.style+"/icon/image1.png",styles:this.css.moduleNodeMove,events:{selectstart:function(){return false}}}).inject(this.form.container)},_getCopyNode:function(){if(!this.copyNode)this._createCopyNode();this.copyNode.setStyle("display","inline-block");return this.copyNode},_setEditStyle_custom:function(s){if(s=="src"){if(this.json.src){this.node.src=this.json.src;this.setPropertiesOrStyles("styles");if(!this.json.styles.width||!this.json.styles.height){var e=new Element("img",{src:this.json.src}).inject(this.form.node);var t=e.getSize();if(!this.json.styles.width){this.node.setStyles({width:""+t.x+"px"});this.json.styles.width=""+t.x+"px"}if(!this.json.styles.height){this.node.setStyles({height:""+t.y+"px"});this.json.styles.height=""+t.y+"px"}this.property.maplists["styles"].reload(this.json.styles);e.destroy()}}}}});