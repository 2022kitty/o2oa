MWF.xApplication.Forum=MWF.xApplication.Forum||{};MWF.xApplication.Forum.Actions=MWF.xApplication.Forum.Actions||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.require("MWF.widget.UUID",null,false);MWF.xApplication.Forum.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_bbs_assemble_control","x_component_Forum");this.actionOrg=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_express","x_component_Forum");this.actionHotPic=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_hotpic_assemble_control","x_component_Forum");this.actionPerson=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_personal","x_component_Forum");this.actionAuthentication=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_authentication","x_component_Forum")},getId:function(e,t,n,i){this.action.invoke({name:"getId",async:i,parameter:{count:e},success:t,failure:n})},getUUID:function(e){var t="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(n){t=n.data[0];if(e)e(t)},failure:null});return t},getPerson:function(e,t,n,i){this.actionOrg.invoke({name:"getPerson",async:i,parameter:{name:n},success:e,failure:t})},getPersonIcon:function(e,t){this.actionOrg.getActions(function(){var n=this.actionOrg.actions.getPersonIcon.uri;n=n.replace("{name}",encodeURIComponent(e));if(t)t(this.actionOrg.address+n)}.bind(this))},listCompanyByPerson:function(e,t,n,i){this.actionOrg.invoke({name:"listCompanyByPerson",async:i,parameter:{name:n},success:e,failure:t})},listDepartmentByPerson:function(e,t,n,i){this.actionOrg.invoke({name:"listDepartmentByPerson",async:i,parameter:{name:n},success:e,failure:t})},listDepartmentByCompany:function(e,t,n,i){this.actionOrg.invoke({name:"listDepartmentByCompany",async:i,parameter:{companyName:n},success:e,failure:t})},getUserInfor:function(e,t,n,i){this.action.invoke({name:"getUserInfor",data:e,async:i,success:t,failure:n})},login:function(e,t,n,i){this.action.invoke({name:"login",data:e,async:i,success:t,failure:n})},getBBSName:function(e,t,n){this.action.invoke({name:"getBBSName",async:n,success:e,failure:t})},getSystemSetting:function(e,t,n,i){this.action.invoke({name:"getSystemSetting",async:i,parameter:{id:e},success:t,failure:n})},getSystemSettingByCode:function(e,t,n,i){this.action.invoke({name:"getSystemSettingByCode",data:e,async:i,success:t,failure:n})},listSystemSettingAll:function(e,t,n){this.action.invoke({name:"listSystemSettingAll",async:n,success:e,failure:t})},saveSystemSetting:function(e,t,n,i){this.action.invoke({name:"saveSystemSetting",data:e,async:i,success:t,failure:n})},getCategory:function(e,t,n,i){this.action.invoke({name:"getCategory",async:i,parameter:{id:e},success:t,failure:n})},listCategoryAll:function(e,t,n){this.action.invoke({name:"listCategoryAll",async:n,success:e,failure:t})},listCategoryAllByAdmin:function(e,t,n){this.action.invoke({name:"listCategoryAllByAdmin",async:n,success:e,failure:t})},saveCategory:function(e,t,n,i){this.action.invoke({name:"saveCategory",data:e,async:i,parameter:{id:e.id},success:t,failure:n})},deleteCategory:function(e,t,n,i){this.action.invoke({name:"deleteCategory",async:i,parameter:{id:e},success:t,failure:n})},deleteCategoryForce:function(e,t,n,i){this.action.invoke({name:"deleteCategoryForce",async:i,parameter:{id:e},success:t,failure:n})},getSection:function(e,t,n,i){this.action.invoke({name:"getSection",async:i,parameter:{id:e},success:t,failure:n})},listSection:function(e,t,n,i){this.action.invoke({name:"listSection",parameter:{forumId:e},async:i,success:t,failure:n})},listSectionByAdmin:function(e,t,n,i){this.action.invoke({name:"listSectionByAdmin",parameter:{forumId:e},async:i,success:t,failure:n})},listSubSection:function(e,t,n,i){this.action.invoke({name:"listSubSection",parameter:{sectionId:e},async:i,success:t,failure:n})},listSubSectionByAdmin:function(e,t,n,i){this.action.invoke({name:"listSubSectionByAdmin",parameter:{sectionId:e},async:i,success:t,failure:n})},listSectionAll:function(e,t,n){this.action.invoke({name:"listSectionAll",async:n,success:e,failure:t})},saveSection:function(e,t,n,i){this.action.invoke({name:"saveSection",data:e,async:i,parameter:{id:e.id},success:t,failure:n})},deleteSection:function(e,t,n,i){this.action.invoke({name:"deleteSection",async:i,parameter:{id:e},success:t,failure:n})},deleteSectionForce:function(e,t,n,i){this.action.invoke({name:"deleteSectionForce",async:i,parameter:{id:e},success:t,failure:n})},uploadSectionIcon:function(e,t,n,i,a){this.action.invoke({name:"uploadSectionIcon",data:i,file:a,parameter:{id:e},success:t,failure:n})},listPermissionAll:function(e,t,n){this.action.invoke({name:"listPermissionAll",async:n,success:e,failure:t})},listPermissionByRole:function(e,t,n,i,a){this.action.invoke({name:"listPermissionByRole",data:t,async:a,parameter:{roleCode:e},success:n,failure:i})},listPermissionByForum:function(e,t,n,i,a){this.action.invoke({name:"listPermissionByForum",data:t,async:a,parameter:{forumId:e},success:n,failure:i})},listPermissionBySection:function(e,t,n,i,a){this.action.invoke({name:"listPermissionBySection",data:t,async:a,parameter:{sectionId:e},success:n,failure:i})},listSectionPermission:function(e,t,n,i){this.action.invoke({name:"listSectionPermission",async:i,parameter:{sectionId:e},success:t,failure:n})},listSubjectPermission:function(e,t,n,i){this.action.invoke({name:"listSubjectPermission",async:i,parameter:{subjectId:e},success:t,failure:n})},listSubjectPublishPermission:function(e,t,n,i){this.action.invoke({name:"listSubjectPublishPermission",async:i,parameter:{sectionId:e},success:t,failure:n})},listReplyPublishPermission:function(e,t,n,i){this.action.invoke({name:"listReplyPublishPermission",async:i,parameter:{subjectId:e},success:t,failure:n})},listRoleMemberByCode:function(e,t,n,i){this.action.invoke({name:"listRoleMemberByCode",data:e,async:i,success:t,failure:n})},getRole:function(e,t,n){this.action.invoke({name:"getRole",parameter:{id:e},success:t,failure:n})},saveRole:function(e,t,n,i){this.action.invoke({name:"saveRole",data:e,async:i,parameter:{id:e.id},success:t,failure:n})},deleteRole:function(e,t,n,i){this.action.invoke({name:"deleteRole",async:i,parameter:{id:e},success:t,failure:n})},listRoleAll:function(e,t,n){this.action.invoke({name:"listRoleAll",async:n,success:e,failure:t})},listRoleByForum:function(e,t,n,i,a){this.action.invoke({name:"listRoleByForum",data:t,async:a,parameter:{forumId:e},success:n,failure:i})},listRoleBySection:function(e,t,n,i,a){this.action.invoke({name:"listRoleBySection",data:t,async:a,parameter:{sectionId:e},success:n,failure:i})},listRoleByOrganization:function(e,t,n,i){this.action.invoke({name:"listRoleByOrganization",data:e,async:i,success:t,failure:n})},listRoleByUser:function(e,t,n,i){this.action.invoke({name:"listRoleByUser",data:e,async:i,success:t,failure:n})},bindObject:function(e,t,n,i){this.action.invoke({name:"bindObject",data:e,async:i,success:t,failure:n})},bindRole:function(e,t,n,i){this.action.invoke({name:"bindRole",data:e,async:i,success:t,failure:n})},listRecommendedSubject:function(e,t,n,i){this.action.invoke({name:"listRecommendedSubject",parameter:{count:e},async:i,success:t,failure:n})},listCreamSubjectFilterPage:function(e,t,n,i,a,c){this.action.invoke({name:"listCreamSubjectFilterPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listSubjectSearchPage:function(e,t,n,i,a,c){this.action.invoke({name:"listSubjectSearchPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},getSubject:function(e,t,n){this.action.invoke({name:"getSubject",parameter:{id:e},success:t,failure:n})},getSubjectView:function(e,t,n,i){this.action.invoke({name:"getSubjectView",parameter:{id:e},async:i,success:t,failure:n})},saveSubject:function(e,t,n,i){this.action.invoke({name:"saveSubject",data:e,async:i,parameter:{id:e.id},success:t,failure:n})},deleteSubject:function(e,t,n,i){this.action.invoke({name:"deleteSubject",async:i,parameter:{id:e},success:t,failure:n})},listSubjectFilterPage:function(e,t,n,i,a,c){this.action.invoke({name:"listSubjectFilterPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listTopSubject:function(e,t,n,i){this.action.invoke({name:"listTopSubject",async:i,parameter:{sectionId:e},success:t,failure:n})},setCream:function(e,t,n,i){this.action.invoke({name:"setCream",async:i,parameter:{id:e},success:t,failure:n})},cancelCream:function(e,t,n,i){this.action.invoke({name:"cancelCream",async:i,parameter:{id:e},success:t,failure:n})},topToBBS:function(e,t,n,i){this.action.invoke({name:"topToBBS",async:i,parameter:{id:e},success:t,failure:n})},cancelTopToBBS:function(e,t,n,i){this.action.invoke({name:"cancelTopToBBS",async:i,parameter:{id:e},success:t,failure:n})},topToForum:function(e,t,n,i){this.action.invoke({name:"topToForum",async:i,parameter:{id:e},success:t,failure:n})},cancelTopToForum:function(e,t,n,i){this.action.invoke({name:"cancelTopToForum",async:i,parameter:{id:e},success:t,failure:n})},topToMainSection:function(e,t,n,i){this.action.invoke({name:"topToMainSection",async:i,parameter:{id:e},success:t,failure:n})},cancelTopToMainSection:function(e,t,n,i){this.action.invoke({name:"cancelTopToMainSection",async:i,parameter:{id:e},success:t,failure:n})},topToSection:function(e,t,n,i){this.action.invoke({name:"topToSection",async:i,parameter:{id:e},success:t,failure:n})},cancelTopToSection:function(e,t,n,i){this.action.invoke({name:"cancelTopToSection",async:i,parameter:{id:e},success:t,failure:n})},setRecommend:function(e,t,n,i){this.action.invoke({name:"setRecommend",async:i,parameter:{id:e},success:t,failure:n})},cancelRecommend:function(e,t,n,i){this.action.invoke({name:"cancelRecommend",async:i,parameter:{id:e},success:t,failure:n})},lock:function(e,t,n,i){this.action.invoke({name:"lock",async:i,parameter:{id:e},success:t,failure:n})},unlock:function(e,t,n,i){this.action.invoke({name:"unlock",async:i,parameter:{id:e},success:t,failure:n})},getReply:function(e,t,n,i){this.action.invoke({name:"getReply",async:i,parameter:{id:e},success:t,failure:n})},saveReply:function(e,t,n,i){this.action.invoke({name:"saveReply",data:e,async:i,parameter:{id:e.id},success:t,failure:n})},deleteReply:function(e,t,n,i){this.action.invoke({name:"deleteReply",async:i,parameter:{id:e},success:t,failure:n})},listReplyFilterPage:function(e,t,n,i,a,c){this.action.invoke({name:"listReplyFilterPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listMySubjectPage:function(e,t,n,i,a,c){this.action.invoke({name:"listMySubjectPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listMyReplyPage:function(e,t,n,i,a,c){this.action.invoke({name:"listMyReplyPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listUserSubjectPage:function(e,t,n,i,a,c){this.action.invoke({name:"listUserSubjectPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},listDetailFilterNext:function(e,t,n,i,a,c){this.action.invoke({name:"listDetailFilterNext",parameter:{id:e,count:t},data:n,async:c,success:i,failure:a})},listDetailFilterPrev:function(e,t,n,i,a,c){this.action.invoke({name:"listDetailFilterPrev",parameter:{id:e,count:t},data:n,async:c,success:i,failure:a})},deployBaseWork:function(e,t,n,i){this.action.invoke({name:"deployBaseWork",data:e,async:i,success:t,failure:n})},listAttachmentInfo:function(e,t,n){this.action.invoke({name:"listAttachmentInfo",async:n,success:e,failure:t})},listAttachment:function(e,t,n,i){this.action.invoke({name:"listAttachment",async:i,parameter:{documentid:e},success:t,failure:n})},uploadAttachment:function(e,t,n,i,a){this.action.invoke({name:"uploadAttachment",parameter:{documentid:e},data:i,file:a,success:t,failure:n})},getAttachment:function(e,t,n,i,a){this.action.invoke({name:"getAttachment",async:a,parameter:{id:e,documentid:t},success:n,failure:i})},deleteAttachment:function(e,t,n,i,a){this.action.invoke({name:"deleteAttachment",async:a,parameter:{id:e,documentid:t},success:n,failure:i})},getAttachmentData:function(e,t){this.action.getActions(function(){var n=this.action.actions.getAttachmentData.uri;n=n.replace("{id}",encodeURIComponent(e));n=n.replace("{documentid}",encodeURIComponent(t));window.open(this.actionAttachment.address+n)}.bind(this))},getAttachmentStream:function(e,t){this.action.getActions(function(){var n=this.action.actions.getAttachmentStream.uri;n=n.replace("{id}",encodeURIComponent(e));n=n.replace("{documentid}",encodeURIComponent(t));window.open(this.action.address+n)}.bind(this))},getAttachmentUrl:function(e,t,n){this.action.getActions(function(){var i=this.action.actions.getAttachmentData.uri;i=i.replace("{id}",encodeURIComponent(e));i=i.replace("{documentid}",encodeURIComponent(t));if(n)n(this.action.address+i)}.bind(this))},getHotPic:function(e,t,n,i,a){this.actionHotPic.invoke({name:"getHotPic",parameter:{application:e,infoId:t},success:n,failure:i,async:a})},saveHotPic:function(e,t,n,i){this.actionHotPic.invoke({name:"saveHotPic",data:e,success:t,failure:n,async:i})},removeHotPic:function(e,t,n,i){this.actionHotPic.invoke({name:"removeHotPic",async:i,parameter:{id:e},success:t,failure:n})},removeHotPicByInfor:function(e,t,n,i){this.actionHotPic.invoke({name:"removeHotPicByInfor",parameter:{application:e,infoId:t},success:n,failure:i})},listHotPicFilterPage:function(e,t,n,i,a,c){this.actionHotPic.invoke({name:"listHotPicFilterPage",parameter:{page:e,count:t},data:n,async:c,success:i,failure:a})},getInternetImageBaseBase64:function(e,t,n,i){this.action.invoke({name:"getInternetImageBaseBase64",data:e,success:t,failure:n,async:i})},convertLocalImageToBase64:function(e,t,n,i,a){this.action.invoke({name:"convertLocalImageToBase64",parameter:{size:e},data:i,file:a,success:t,failure:n})},getSubjectAttachmentBase64:function(e,t,n,i,a){this.action.invoke({name:"getSubjectAttachmentBase64",parameter:{id:e,size:t},success:n,failure:i,async:a})},getRegisterMode:function(e,t,n){this.actionPerson.invoke({name:"getRegisterMode",success:e,failure:t,async:n})},getLoginMode:function(e,t,n){this.actionAuthentication.invoke({name:"getLoginMode",success:e,failure:t,async:n})},logout:function(e,t,n){this.actionAuthentication.invoke({name:"logout",success:e,failure:t,async:n})},authentication:function(e,t,n){this.actionAuthentication.invoke({name:"authentication",success:e,failure:t,async:n})}});