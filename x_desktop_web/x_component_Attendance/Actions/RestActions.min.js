MWF.xApplication.Attendance=MWF.xApplication.Attendance||{};MWF.xApplication.Attendance.Actions=MWF.xApplication.Attendance.Actions||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.require("MWF.widget.UUID",null,false);MWF.xApplication.Attendance.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_attendance_assemble_control","x_component_Attendance");this.actionOrg=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_organization_assemble_express","x_component_Attendance")},getId:function(e,t,a,i){this.action.invoke({name:"getId",async:i,parameter:{count:e},success:t,failure:a})},getUUID:function(e){var t="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(a){t=a.data[0];if(e)e(t)},failure:null});return t},listCompanyByPerson:function(e,t,a,i){this.actionOrg.invoke({name:"listCompanyByPerson",async:i,parameter:{name:a},success:e,failure:t})},listDepartmentByPerson:function(e,t,a,i){this.actionOrg.invoke({name:"listDepartmentByPerson",async:i,parameter:{name:a},success:e,failure:t})},listDepartmentByCompany:function(e,t,a,i){this.actionOrg.invoke({name:"listDepartmentByCompany",async:i,parameter:{companyName:a},success:e,failure:t})},getPersonAttribute:function(e,t,a,i,n){this.actionOrg.invoke({name:"getPersonAttribute",async:n,urlEncode:true,parameter:{name:e,personName:t},success:a,failure:i})},getPersonByIdentity:function(e,t,a,i){this.actionOrg.invoke({name:"getPersonByIdentity",async:i,urlEncode:true,parameter:{name:e},success:t,failure:a})},getDepartmentAttribute:function(e,t,a,i,n){this.actionOrg.invoke({name:"getDepartmentAttribute",async:n,urlEncode:true,parameter:{name:e,departmentName:t},success:a,failure:i})},getDepartmentDuty:function(e,t,a,i,n){this.actionOrg.invoke({name:"getDepartmentDuty",async:n,urlEncode:true,parameter:{name:e,departmentName:t},success:a,failure:i})},getPermission:function(e,t,a){this.action.invoke({name:"getPermission",parameter:{id:e},success:t,failure:a})},listPermission:function(e,t,a){this.action.invoke({name:"listPermission",async:a,success:e,failure:t})},savePermission:function(e,t,a){this.action.invoke({name:"savePermission",data:e,parameter:{id:e.id},success:t,failure:a})},deletePermission:function(e,t,a,i){this.action.invoke({name:"deletePermission",async:i,parameter:{id:e},success:t,failure:a})},getHoliday:function(e,t,a){this.action.invoke({name:"getHoliday",parameter:{id:e},success:t,failure:a})},listHolidayAll:function(e,t,a){this.action.invoke({name:"listHolidayAll",async:a,success:e,failure:t})},listHolidayFilter:function(e,t,a,i){this.action.invoke({name:"listHolidayFilter",data:e,async:i,success:t,failure:a})},listHolidayByYearAndName:function(e,t,a,i,n){this.action.invoke({name:"listHolidayFilter",data:{q_Year:e,q_Name:t},async:n,success:a,failure:i})},listHolidayByYearAndMonth:function(e,t,a,i,n){this.action.invoke({name:"listHolidayFilter",data:{q_Year:e,q_Month:t},async:n,success:a,failure:i})},listHolidayByName:function(e,t,a,i){this.action.invoke({name:"listHolidayFilter",data:{q_Name:e},async:i,success:t,failure:a})},saveHoliday:function(e,t,a,i){this.action.invoke({name:"saveHoliday",data:e,async:i,parameter:{id:e.id},success:t,failure:a})},deleteHoliday:function(e,t,a,i){this.action.invoke({name:"deleteHoliday",async:i,parameter:{id:e},success:t,failure:a})},getSelfHoliday:function(e,t,a){this.action.invoke({name:"getSelfHoliday",parameter:{id:e},success:t,failure:a})},listSelfHoliday:function(e,t,a){this.action.invoke({name:"listSelfHoliday",async:a,success:e,failure:t})},saveSelfHoliday:function(e,t,a){this.action.invoke({name:"saveSelfHoliday",data:e,parameter:{id:e.id},success:t,failure:a})},deleteSelfHoliday:function(e,t,a,i){this.action.invoke({name:"deleteSelfHoliday",async:i,parameter:{id:e},success:t,failure:a})},exportSelfHoliday:function(e,t,a,i){this.action.getActions(function(){var a=this.action.actions.exportSelfHoliday.uri;a=a.replace("{startdate}",e);a=a.replace("{enddate}",t);window.open(this.action.address+a,"_blank")}.bind(this))},listSelfHolidayFilterNext:function(e,t,a,i,n,s){this.action.invoke({name:"listSelfHolidayFilterNext",parameter:{id:e,count:t},data:a,async:s,success:i,failure:n})},getSchedule:function(e,t,a){this.action.invoke({name:"getSchedule",parameter:{id:e},success:t,failure:a})},listSchedule:function(e,t,a){this.action.invoke({name:"listSchedule",async:a,success:e,failure:t})},saveSchedule:function(e,t,a){this.action.invoke({name:"saveSchedule",data:e,parameter:{id:e.id},success:t,failure:a})},deleteSchedule:function(e,t,a,i){this.action.invoke({name:"deleteSchedule",async:i,parameter:{id:e},success:t,failure:a})},listScheduleByDepartment:function(e,t,a){this.action.invoke({name:"listScheduleByDepartment",parameter:{name:e},success:t,failure:a})},listScheduleByCompany:function(e,t,a){this.action.invoke({name:"listScheduleByCompany",parameter:{name:e},success:t,failure:a})},getCycle:function(e,t,a){this.action.invoke({name:"getCycle",parameter:{id:e},success:t,failure:a})},deleteCycle:function(e,t,a,i){this.action.invoke({name:"deleteCycle",parameter:{id:e},async:i,success:t,failure:a})},saveCycle:function(e,t,a){this.action.invoke({name:"saveCycle",data:e,parameter:{id:e.id},success:t,failure:a})},listCycle:function(e,t,a){this.action.invoke({name:"listCycle",async:a,success:e,failure:t})},getCyclePerson:function(e,t,a,i,n){this.action.invoke({name:"getCyclePerson",parameter:{year:e,month:t},async:n,success:a,failure:i})},listSetting:function(e,t,a){this.action.invoke({name:"listSetting",async:a,success:e,failure:t})},getSetting:function(e,t,a,i){this.action.invoke({name:"getSetting",async:i,parameter:{id:e},success:t,failure:a})},saveSetting:function(e,t,a,i){this.action.invoke({name:"saveSetting",async:i,data:e,parameter:{id:e.id},success:t,failure:a})},deleteSetting:function(e,t,a,i){this.action.invoke({name:"deleteSetting",async:i,parameter:{id:e},success:t,failure:a})},getSettingCode:function(e,t,a,i){this.action.invoke({name:"getSettingCode",async:i,parameter:{code:e},success:t,failure:a})},listPersonSetting:function(e,t,a){this.action.invoke({name:"listPersonSetting",async:a,success:e,failure:t})},getPersonSetting:function(e,t,a,i){this.action.invoke({name:"getPersonSetting",async:i,parameter:{id:e},success:t,failure:a})},savePersonSetting:function(e,t,a,i){this.action.invoke({name:"savePersonSetting",async:i,data:e,parameter:{id:e.id},success:t,failure:a})},deletePersonSetting:function(e,t,a,i){this.action.invoke({name:"deletePersonSetting",async:i,parameter:{id:e},success:t,failure:a})},listAttachmentInfo:function(e,t,a){this.action.invoke({name:"listAttachmentInfo",async:a,success:e,failure:t})},uploadAttachment:function(e,t,a,i){this.action.invoke({name:"uploadAttachment",data:a,file:i,success:e,failure:t})},deleteAttachment:function(e,t,a,i){this.action.invoke({name:"deleteAttachment",async:i,parameter:{id:e},success:t,failure:a})},getAttachmentStream:function(e){this.action.getActions(function(){var t=this.action.actions.getAttachmentStream.uri;t=t.replace("{id}",encodeURIComponent(e));window.open(this.action.address+t)}.bind(this))},importAttachment:function(e,t,a){this.action.invoke({name:"importAttachment",parameter:{file_id:e},success:t,failure:a})},checkAttachment:function(e,t,a){this.action.invoke({name:"checkAttachment",parameter:{file_id:e},success:t,failure:a})},exportAbnormalAttachment:function(e,t,a,i){this.action.getActions(function(){var a=this.action.actions.exportAbnormalAttachment.uri;a=a.replace("{year}",e);a=a.replace("{month}",t);window.open(this.action.address+a,"_blank")}.bind(this))},getDetail:function(e,t,a,i){this.action.invoke({name:"getDetail",async:i,parameter:{id:e},success:t,failure:a})},deleteDetail:function(e,t,a,i){this.action.invoke({name:"deleteDetail",async:i,parameter:{id:e},success:t,failure:a})},listDetail:function(e,t,a){this.action.invoke({name:"listDetail",async:a,success:e,failure:t})},listDetailFilter:function(e,t,a,i){this.action.invoke({name:"listDetailFilter",data:e,async:i,success:t,failure:a})},listDetailFilterNext:function(e,t,a,i,n,s){this.action.invoke({name:"listDetailFilterNext",parameter:{id:e,count:t},data:a,async:s,success:i,failure:n})},listDetailFilterPrev:function(e,t,a,i,n,s){this.action.invoke({name:"listDetailFilterPrev",parameter:{id:e,count:t},data:a,async:s,success:i,failure:n})},listDetailFilterUser:function(e,t,a,i){this.action.invoke({name:"listDetailFilterUser",data:e,async:i,success:t,failure:a})},listDepartmentDetailFilter:function(e,t,a,i){this.action.invoke({name:"listDepartmentDetailFilter",data:e,async:i,success:t,failure:a})},listCompanyDetailFilter:function(e,t,a,i){this.action.invoke({name:"listCompanyDetailFilter",data:e,async:i,success:t,failure:a})},listDetailByAttachment:function(e,t,a){this.action.invoke({name:"listDetailByAttachment",parameter:{file_id:e},success:t,failure:a})},checkDetail:function(e,t,a,i){this.action.invoke({name:"checkDetail",parameter:{cycleYear:e,cycleMonth:t},success:a,failure:i})},analyseDetail:function(e,t,a,i){this.action.invoke({name:"analyseDetail",parameter:{startDate:e,endDate:t},success:a,failure:i})},staticDetail:function(e,t,a,i){this.action.invoke({name:"staticDetail",parameter:{year:e,month:t},success:a,failure:i})},staticAllDetail:function(e,t){this.action.invoke({name:"staticAllDetail",success:e,failure:t})},listStaticMonthPerson:function(e,t,a,i,n){this.action.invoke({name:"listStaticMonthPerson",parameter:{name:e,year:t,month:a},success:i,failure:n})},listStaticDayDepartment:function(e,t,a,i,n){this.action.invoke({name:"listStaticDayDepartment",parameter:{name:e,year:t,month:a},success:i,failure:n})},listStaticDateDepartment:function(e,t,a,i){this.action.invoke({name:"listStaticDateDepartment",parameter:{name:e,date:t},success:a,failure:i})},listStaticMonthDepartment:function(e,t,a,i,n,s){this.action.invoke({name:"listStaticMonthDepartment",parameter:{name:e,year:t,month:a},success:i,failure:n,async:s})},listStaticMonthDepartmentSum:function(e,t,a,i,n,s){this.action.invoke({name:"listStaticMonthDepartmentSum",parameter:{name:e,year:t,month:a},success:i,failure:n,async:s})},listStaticDayCompany:function(e,t,a,i,n){this.action.invoke({name:"listStaticDayCompany",parameter:{name:e,year:t,month:a},success:i,failure:n})},listStaticMonthCompany:function(e,t,a,i,n){this.action.invoke({name:"listStaticMonthCompany",parameter:{name:e,year:t,month:a},success:i,failure:n})},listStaticMonthPersonByDepartment:function(e,t,a,i,n){this.action.invoke({name:"listStaticMonthPersonByDepartment",parameter:{name:e,year:t,month:a},success:i,failure:n})},listStaticMonthPersonByDepartmentNested:function(e,t,a,i,n){this.action.invoke({name:"listStaticMonthPersonByDepartmentNested",parameter:{name:e,year:t,month:a},success:i,failure:n})},listDepartmentDateStaticByCompany:function(e,t,a,i){this.action.invoke({name:"listDepartmentDateStaticByCompany",parameter:{name:e,date:t},success:a,failure:i})},listDepartmentMonthStaticByCompany:function(e,t,a,i,n,s){this.action.invoke({name:"listDepartmentMonthStaticByCompany",parameter:{name:e,year:t,month:a},success:i,failure:n,async:s})},listPersonMonthStaticByDepartment:function(e,t,a,i,n,s){this.action.invoke({name:"listPersonMonthStaticByDepartment",parameter:{name:e,year:t,month:a},success:i,failure:n,async:s})},createAppeal:function(e,t,a,i){this.action.invoke({name:"createAppeal",parameter:{detailId:e},data:t,success:a,failure:i})},processAppeal:function(e,t,a,i,n){this.action.invoke({name:"processAppeal",parameter:{id:e},async:n,data:t,success:a,failure:i})},process2Appeal:function(e,t,a,i,n){this.action.invoke({name:"process2Appeal",parameter:{id:e},async:n,data:t,success:a,failure:i})},getAppeal:function(e,t,a,i){this.action.invoke({name:"getAppeal",parameter:{id:e},async:i,success:t,failure:a})},deleteAppeal:function(e,t,a,i){this.action.invoke({name:"deleteAppeal",async:i,parameter:{id:e},success:t,failure:a})},listAppealFilterNext:function(e,t,a,i,n,s){this.action.invoke({name:"listAppealFilterNext",parameter:{id:e,count:t},data:a,async:s,success:i,failure:n})},listAppealFilterPrev:function(e,t,a,i,n,s){this.action.invoke({name:"listAppealFilterPrev",parameter:{id:e,count:t},data:a,async:s,success:i,failure:n})},listWorkplace:function(e,t,a){this.action.invoke({name:"listWorkplace",async:a,success:e,failure:t})},getWorkplace:function(e,t,a,i){this.action.invoke({name:"getWorkplace",async:i,parameter:{id:e},success:t,failure:a})},saveWorkplace:function(e,t,a,i){this.action.invoke({name:"saveWorkplace",async:i,data:e,parameter:{id:e.id},success:t,failure:a})},deleteWorkplace:function(e,t,a,i){this.action.invoke({name:"deleteWorkplace",async:i,parameter:{id:e},success:t,failure:a})}});