ace.define("ace/ext/beautify/php_rules",["require","exports","module","ace/token_iterator"],function(e,t,a){"use strict";var p=e("ace/token_iterator").TokenIterator;t.newLines=[{type:"support.php_tag",value:"<?php"},{type:"support.php_tag",value:"<?"},{type:"support.php_tag",value:"?>"},{type:"paren.lparen",value:"{",indent:!0},{type:"paren.rparen",breakBefore:!0,value:"}",indent:!1},{type:"paren.rparen",breakBefore:!0,value:"})",indent:!1,dontBreak:!0},{type:"comment"},{type:"text",value:";"},{type:"text",value:":",context:"php"},{type:"keyword",value:"case",indent:!0,dontBreak:!0},{type:"keyword",value:"default",indent:!0,dontBreak:!0},{type:"keyword",value:"break",indent:!1,dontBreak:!0},{type:"punctuation.doctype.end",value:">"},{type:"meta.tag.punctuation.end",value:">"},{type:"meta.tag.punctuation.begin",value:"<",blockTag:!0,indent:!0,dontBreak:!0},{type:"meta.tag.punctuation.begin",value:"</",indent:!1,breakBefore:!0,dontBreak:!0},{type:"punctuation.operator",value:";"}],t.spaces=[{type:"xml-pe",prepend:!0},{type:"entity.other.attribute-name",prepend:!0},{type:"storage.type",value:"var",append:!0},{type:"storage.type",value:"function",append:!0},{type:"keyword.operator",value:"="},{type:"keyword",value:"as",prepend:!0,append:!0},{type:"keyword",value:"function",append:!0},{type:"support.function",next:/[^\(]/,append:!0},{type:"keyword",value:"or",append:!0,prepend:!0},{type:"keyword",value:"and",append:!0,prepend:!0},{type:"keyword",value:"case",append:!0},{type:"keyword.operator",value:"||",append:!0,prepend:!0},{type:"keyword.operator",value:"&&",append:!0,prepend:!0}],t.singleTags=["!doctype","area","base","br","hr","input","img","link","meta"],t.transform=function(e,a,p){var n=e.getCurrentToken(),r=t.newLines,o=t.spaces,u=t.singleTags,i="",l=0,y=!1,d,s,v={},c,f={},k=!1,m="";while(n!==null){console.log(n);if(!n){n=e.stepForward();continue}n.type=="support.php_tag"&&n.value!="?>"?p="php":n.type=="support.php_tag"&&n.value=="?>"?p="html":n.type=="meta.tag.name.style"&&p!="css"?p="css":n.type=="meta.tag.name.style"&&p=="css"?p="html":n.type=="meta.tag.name.script"&&p!="js"?p="js":n.type=="meta.tag.name.script"&&p=="js"&&(p="html"),f=e.stepForward(),f&&f.type.indexOf("meta.tag.name")==0&&(c=f.value),v.type=="support.php_tag"&&v.value=="<?="&&(y=!0),n.type=="meta.tag.name"&&(n.value=n.value.toLowerCase()),n.type=="text"&&(n.value=n.value.trim());if(!n.value){n=f;continue}m=n.value;for(var g in o)n.type==o[g].type&&(!o[g].value||n.value==o[g].value)&&f&&(!o[g].next||o[g].next.test(f.value))&&(o[g].prepend&&(m=" "+n.value),o[g].append&&(m+=" "));n.type.indexOf("meta.tag.name")==0&&(d=n.value),k=!1;for(g in r)if(n.type==r[g].type&&(!r[g].value||n.value==r[g].value)&&(!r[g].blockTag||u.indexOf(c)===-1)&&(!r[g].context||r[g].context===p)){r[g].indent===!1&&l--;if(r[g].breakBefore&&(!r[g].prev||r[g].prev.test(v.value))){i+="\n",k=!0;for(g=0;g<l;g++)i+="\t"}break}if(y===!1)for(g in r)if(v.type==r[g].type&&(!r[g].value||v.value==r[g].value)&&(!r[g].blockTag||u.indexOf(d)===-1)&&(!r[g].context||r[g].context===p)){r[g].indent===!0&&l++;if(!r[g].dontBreak&&!k){i+="\n";for(g=0;g<l;g++)i+="\t"}break}i+=m,v.type=="support.php_tag"&&v.value=="?>"&&(y=!1),s=d,v=n,n=f;if(n===null)break}return i}}),ace.define("ace/ext/beautify",["require","exports","module","ace/token_iterator","ace/ext/beautify/php_rules"],function(e,t,a){"use strict";var p=e("ace/token_iterator").TokenIterator,n=e("./beautify/php_rules").transform;t.beautify=function(e){var t=new p(e,0,0),a=t.getCurrentToken(),r=e.$modeId.split("/").pop(),o=n(t,r);e.doc.setValue(o)},t.commands=[{name:"beautify",exec:function(e){t.beautify(e.session)},bindKey:"Ctrl-Shift-B"}]});(function(){ace.require(["ace/ext/beautify"],function(){})})();