ace.define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang");t.$detectIndentation=function(e,t){var n=[];var r=[];var a=0;var i=0;var s=Math.min(e.length,1e3);for(var c=0;c<s;c++){var o=e[c];if(!/^\s*[^*+\-\s]/.test(o))continue;if(o[0]=="\t"){a++;i=-Number.MAX_VALUE}else{var f=o.match(/^ */)[0].length;if(f&&o[f]!="\t"){var v=f-i;if(v>0&&!(i%v)&&!(f%v))r[v]=(r[v]||0)+1;n[f]=(n[f]||0)+1}i=f}while(c<s&&o[o.length-1]=="\\")o=e[c++]}function g(e){var t=0;for(var r=e;r<n.length;r+=e)t+=n[r]||0;return t}var h=r.reduce(function(e,t){return e+t},0);var l={score:0,length:0};var u=0;for(var c=1;c<12;c++){var d=g(c);if(c==1){u=d;d=n[1]?.9:.8;if(!n.length)d=0}else d/=u;if(r[c])d+=r[c]/h;if(d>l.score)l={score:d,length:c}}if(l.score&&l.score>1.4)var m=l.length;if(a>u+1){if(m==1||u<a/4||l.score<1.8)m=undefined;return{ch:"\t",length:m}}if(u>a+1)return{ch:" ",length:m}};t.detectIndentation=function(e){var n=e.getLines(0,1e3);var r=t.$detectIndentation(n)||{};if(r.ch)e.setUseSoftTabs(r.ch==" ");if(r.length)e.setTabSize(r.length);return r};t.trimTrailingSpace=function(e,t){var n=e.getDocument();var r=n.getAllLines();var a=t?-1:0;for(var i=0,s=r.length;i<s;i++){var c=r[i];var o=c.search(/\s+$/);if(o>a)n.removeInLine(i,o,c.length)}};t.convertIndentation=function(e,t,n){var a=e.getTabString()[0];var i=e.getTabSize();if(!n)n=i;if(!t)t=a;var s=t=="\t"?t:r.stringRepeat(t,n);var c=e.doc;var o=c.getAllLines();var f={};var v={};for(var g=0,h=o.length;g<h;g++){var l=o[g];var u=l.match(/^\s*/)[0];if(u){var d=e.$getStringScreenWidth(u)[0];var m=Math.floor(d/i);var p=d%i;var S=f[m]||(f[m]=r.stringRepeat(s,m));S+=v[p]||(v[p]=r.stringRepeat(" ",p));if(S!=u){c.removeInLine(g,0,u.length);c.insertInLine({row:g,column:0},S)}}}e.setTabSize(n);e.setUseSoftTabs(t==" ")};t.$parseStringArg=function(e){var t={};if(/t/.test(e))t.ch="\t";else if(/s/.test(e))t.ch=" ";var n=e.match(/\d+/);if(n)t.length=parseInt(n[0],10);return t};t.$parseArg=function(e){if(!e)return{};if(typeof e=="string")return t.$parseStringArg(e);if(typeof e.text=="string")return t.$parseStringArg(e.text);return e};t.commands=[{name:"detectIndentation",exec:function(e){t.detectIndentation(e.session)}},{name:"trimTrailingSpace",exec:function(e){t.trimTrailingSpace(e.session)}},{name:"convertIndentation",exec:function(e,n){var r=t.$parseArg(n);t.convertIndentation(e.session,r.ch,r.length)}},{name:"setIndentation",exec:function(e,n){var r=t.$parseArg(n);r.length&&e.session.setTabSize(r.length);r.ch&&e.session.setUseSoftTabs(r.ch==" ")}}]});(function(){ace.require(["ace/ext/whitespace"],function(){})})();