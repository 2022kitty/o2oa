ace.define("ace/mode/latex_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,r){"use strict";var a=e("../lib/oop");var n=e("./text_highlight_rules").TextHighlightRules;var i=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:["keyword","lparen","variable.parameter","rparen","lparen","storage.type","rparen"],regex:"(\\\\(?:documentclass|usepackage|input))(?:(\\[)([^\\]]*)(\\]))?({)([^}]*)(})"},{token:["keyword","lparen","variable.parameter","rparen"],regex:"(\\\\(?:label|v?ref|cite(?:[^{]*)))(?:({)([^}]*)(}))?"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\(?:begin|end))({)(\\w*)(})"},{token:"storage.type",regex:"\\\\[a-zA-Z]+"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"constant.character.escape",regex:"\\\\[^a-zA-Z]?"},{token:"string",regex:"\\${1,2}",next:"equation"}],equation:[{token:"comment",regex:"%.*$"},{token:"string",regex:"\\${1,2}",next:"start"},{token:"constant.character.escape",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"error",regex:"^\\s*$",next:"start"},{defaultToken:"string"}]}};a.inherits(i,n);t.LatexHighlightRules=i});ace.define("ace/mode/folding/latex",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(e,t,r){"use strict";var a=e("../../lib/oop");var n=e("./fold_mode").FoldMode;var i=e("../../range").Range;var o=e("../../token_iterator").TokenIterator;var l=t.FoldMode=function(){};a.inherits(l,n);(function(){this.foldingStartMarker=/^\s*\\(begin)|(section|subsection|paragraph)\b|{\s*$/;this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/;this.getFoldWidgetRange=function(e,t,r){var a=e.doc.getLine(r);var n=this.foldingStartMarker.exec(a);if(n){if(n[1])return this.latexBlock(e,r,n[0].length-1);if(n[2])return this.latexSection(e,r,n[0].length-1);return this.openingBracketBlock(e,"{",r,n.index)}var n=this.foldingStopMarker.exec(a);if(n){if(n[1])return this.latexBlock(e,r,n[0].length-1);return this.closingBracketBlock(e,"}",r,n.index+n[0].length)}};this.latexBlock=function(e,t,r){var a={"\\begin":1,"\\end":-1};var n=new o(e,t,r);var l=n.getCurrentToken();if(!l||!(l.type=="storage.type"||l.type=="constant.character.escape"))return;var s=l.value;var g=a[s];var c=function(){var e=n.stepForward();var t=e.type=="lparen"?n.stepForward().value:"";if(g===-1){n.stepBackward();if(t)n.stepBackward()}return t};var u=[c()];var h=g===-1?n.getCurrentTokenColumn():e.getLine(t).length;var p=t;n.step=g===-1?n.stepBackward:n.stepForward;while(l=n.step()){if(!l||!(l.type=="storage.type"||l.type=="constant.character.escape"))continue;var d=a[l.value];if(!d)continue;var f=c();if(d===g)u.unshift(f);else if(u.shift()!==f||!u.length)break}if(u.length)return;var t=n.getCurrentTokenRow();if(g===-1)return new i(t,e.getLine(t).length,p,h);n.stepBackward();return new i(p,h,t,n.getCurrentTokenColumn())};this.latexSection=function(e,t,r){var a=["\\subsection","\\section","\\begin","\\end","\\paragraph"];var n=new o(e,t,r);var l=n.getCurrentToken();if(!l||l.type!="storage.type")return;var s=a.indexOf(l.value);var g=0;var c=t;while(l=n.stepForward()){if(l.type!=="storage.type")continue;var u=a.indexOf(l.value);if(u>=2){if(!g)c=n.getCurrentTokenRow()-1;g+=u==2?1:-1;if(g<0)break}else if(u>=s)break}if(!g)c=n.getCurrentTokenRow()-1;while(c>t&&!/\S/.test(e.getLine(c)))c--;return new i(t,e.getLine(t).length,c,e.getLine(c).length)}}).call(l.prototype)});ace.define("ace/mode/latex",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/latex_highlight_rules","ace/mode/folding/latex","ace/range"],function(e,t,r){"use strict";var a=e("../lib/oop");var n=e("./text").Mode;var i=e("./latex_highlight_rules").LatexHighlightRules;var o=e("./folding/latex").FoldMode;var l=e("../range").Range;var s=function(){this.HighlightRules=i;this.foldingRules=new o};a.inherits(s,n);(function(){this.type="text";this.lineCommentStart="%";this.$id="ace/mode/latex"}).call(s.prototype);t.Mode=s});