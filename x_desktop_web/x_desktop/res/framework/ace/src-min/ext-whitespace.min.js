define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang");t.$detectIndentation=function(e,t){function n(e){var t=0;for(var n=e;n<r.length;n+=e)t+=r[n]||0;return t}var r=[],i=[],a=0,s=0,c=Math.min(e.length,1e3);for(var o=0;o<c;o++){var g=e[o];if(!/^\s*[^*+\-\s]/.test(g))continue;if(g[0]=="\t")a++,s=-Number.MAX_VALUE;else{var h=g.match(/^ */)[0].length;if(h&&g[h]!="\t"){var f=h-s;f>0&&!(s%f)&&!(h%f)&&(i[f]=(i[f]||0)+1),r[h]=(r[h]||0)+1}s=h}while(o<c&&g[g.length-1]=="\\")g=e[o++]}var l=i.reduce(function(e,t){return e+t},0),u={score:0,length:0},v=0;for(var o=1;o<12;o++){var d=n(o);o==1?(v=d,d=r[1]?.9:.8,r.length||(d=0)):d/=v,i[o]&&(d+=i[o]/l),d>u.score&&(u={score:d,length:o})}if(u.score&&u.score>1.4)var m=u.length;if(a>v+1){if(m==1||v<a/4||u.score<1.8)m=undefined;return{ch:"\t",length:m}}if(v>a+1)return{ch:" ",length:m}},t.detectIndentation=function(e){var n=e.getLines(0,1e3),r=t.$detectIndentation(n)||{};return r.ch&&e.setUseSoftTabs(r.ch==" "),r.length&&e.setTabSize(r.length),r},t.trimTrailingSpace=function(e,t){var n=e.getDocument(),r=n.getAllLines(),i=t?-1:0;for(var a=0,s=r.length;a<s;a++){var c=r[a],o=c.search(/\s+$/);o>i&&n.removeInLine(a,o,c.length)}},t.convertIndentation=function(e,t,n){var i=e.getTabString()[0],a=e.getTabSize();n||(n=a),t||(t=i);var s=t=="\t"?t:r.stringRepeat(t,n),c=e.doc,o=c.getAllLines(),g={},h={};for(var f=0,l=o.length;f<l;f++){var u=o[f],v=u.match(/^\s*/)[0];if(v){var d=e.$getStringScreenWidth(v)[0],m=Math.floor(d/a),p=d%a,S=g[m]||(g[m]=r.stringRepeat(s,m));S+=h[p]||(h[p]=r.stringRepeat(" ",p)),S!=v&&(c.removeInLine(f,0,v.length),c.insertInLine({row:f,column:0},S))}}e.setTabSize(n),e.setUseSoftTabs(t==" ")},t.$parseStringArg=function(e){var t={};/t/.test(e)?t.ch="\t":/s/.test(e)&&(t.ch=" ");var n=e.match(/\d+/);return n&&(t.length=parseInt(n[0],10)),t},t.$parseArg=function(e){return e?typeof e=="string"?t.$parseStringArg(e):typeof e.text=="string"?t.$parseStringArg(e.text):e:{}},t.commands=[{name:"detectIndentation",exec:function(e){t.detectIndentation(e.session)}},{name:"trimTrailingSpace",exec:function(e){t.trimTrailingSpace(e.session)}},{name:"convertIndentation",exec:function(e,n){var r=t.$parseArg(n);t.convertIndentation(e.session,r.ch,r.length)}},{name:"setIndentation",exec:function(e,n){var r=t.$parseArg(n);r.length&&e.session.setTabSize(r.length),r.ch&&e.session.setUseSoftTabs(r.ch==" ")}}]});(function(){window.require(["ace/ext/whitespace"],function(){})})();