define("ace/ext/beautify/php_rules",["require","exports","module","ace/token_iterator"],function(e,t,a){"use strict";var r=e("ace/token_iterator").TokenIterator;t.newLines=[{type:"support.php_tag",value:"<?php"},{type:"support.php_tag",value:"<?"},{type:"support.php_tag",value:"?>"},{type:"paren.lparen",value:"{",indent:true},{type:"paren.rparen",breakBefore:true,value:"}",indent:false},{type:"paren.rparen",breakBefore:true,value:"})",indent:false,dontBreak:true},{type:"comment"},{type:"text",value:";"},{type:"text",value:":",context:"php"},{type:"keyword",value:"case",indent:true,dontBreak:true},{type:"keyword",value:"default",indent:true,dontBreak:true},{type:"keyword",value:"break",indent:false,dontBreak:true},{type:"punctuation.doctype.end",value:">"},{type:"meta.tag.punctuation.end",value:">"},{type:"meta.tag.punctuation.begin",value:"<",blockTag:true,indent:true,dontBreak:true},{type:"meta.tag.punctuation.begin",value:"</",indent:false,breakBefore:true,dontBreak:true},{type:"punctuation.operator",value:";"}];t.spaces=[{type:"xml-pe",prepend:true},{type:"entity.other.attribute-name",prepend:true},{type:"storage.type",value:"var",append:true},{type:"storage.type",value:"function",append:true},{type:"keyword.operator",value:"="},{type:"keyword",value:"as",prepend:true,append:true},{type:"keyword",value:"function",append:true},{type:"support.function",next:/[^\(]/,append:true},{type:"keyword",value:"or",append:true,prepend:true},{type:"keyword",value:"and",append:true,prepend:true},{type:"keyword",value:"case",append:true},{type:"keyword.operator",value:"||",append:true,prepend:true},{type:"keyword.operator",value:"&&",append:true,prepend:true}];t.singleTags=["!doctype","area","base","br","hr","input","img","link","meta"];t.transform=function(e,a,r){var p=e.getCurrentToken();var n=t.newLines;var u=t.spaces;var o=t.singleTags;var i="";var l=0;var s=false;var v;var y;var f={};var d;var c={};var k=false;var m="";while(p!==null){console.log(p);if(!p){p=e.stepForward();continue}if(p.type=="support.php_tag"&&p.value!="?>"){r="php"}else if(p.type=="support.php_tag"&&p.value=="?>"){r="html"}else if(p.type=="meta.tag.name.style"&&r!="css"){r="css"}else if(p.type=="meta.tag.name.style"&&r=="css"){r="html"}else if(p.type=="meta.tag.name.script"&&r!="js"){r="js"}else if(p.type=="meta.tag.name.script"&&r=="js"){r="html"}c=e.stepForward();if(c&&c.type.indexOf("meta.tag.name")==0){d=c.value}if(f.type=="support.php_tag"&&f.value=="<?="){s=true}if(p.type=="meta.tag.name"){p.value=p.value.toLowerCase()}if(p.type=="text"){p.value=p.value.trim()}if(!p.value){p=c;continue}m=p.value;for(var g in u){if(p.type==u[g].type&&(!u[g].value||p.value==u[g].value)&&(c&&(!u[g].next||u[g].next.test(c.value)))){if(u[g].prepend){m=" "+p.value}if(u[g].append){m+=" "}}}if(p.type.indexOf("meta.tag.name")==0){v=p.value}k=false;for(g in n){if(p.type==n[g].type&&(!n[g].value||p.value==n[g].value)&&(!n[g].blockTag||o.indexOf(d)===-1)&&(!n[g].context||n[g].context===r)){if(n[g].indent===false){l--}if(n[g].breakBefore&&(!n[g].prev||n[g].prev.test(f.value))){i+="\n";k=true;for(g=0;g<l;g++){i+="\t"}}break}}if(s===false){for(g in n){if(f.type==n[g].type&&(!n[g].value||f.value==n[g].value)&&(!n[g].blockTag||o.indexOf(v)===-1)&&(!n[g].context||n[g].context===r)){if(n[g].indent===true){l++}if(!n[g].dontBreak&&!k){i+="\n";for(g=0;g<l;g++){i+="\t"}}break}}}i+=m;if(f.type=="support.php_tag"&&f.value=="?>"){s=false}y=v;f=p;p=c;if(p===null){break}}return i}});define("ace/ext/beautify",["require","exports","module","ace/token_iterator","ace/ext/beautify/php_rules"],function(e,t,a){"use strict";var r=e("ace/token_iterator").TokenIterator;var p=e("./beautify/php_rules").transform;t.beautify=function(e){var t=new r(e,0,0);var a=t.getCurrentToken();var n=e.$modeId.split("/").pop();var u=p(t,n);e.doc.setValue(u)};t.commands=[{name:"beautify",exec:function(e){t.beautify(e.session)},bindKey:"Ctrl-Shift-B"}]});(function(){window.require(["ace/ext/beautify"],function(){})})();