define("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var a=e.each,c=e.explode;var r={f9:120,f10:121,f11:122};return function(n){var f=this,o={};n.on("keyup keypress keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey){a(o,function(a){var c=t.mac?e.metaKey:e.ctrlKey;if(a.ctrl!=c||a.alt!=e.altKey||a.shift!=e.shiftKey){return}if(e.keyCode==a.keyCode||e.charCode&&e.charCode==a.charCode){e.preventDefault();if(e.type=="keydown"){a.func.call(a.scope)}return true}})}});f.add=function(t,f,i,l){var s;s=i;if(typeof i==="string"){i=function(){n.execCommand(s,false,null)}}else if(e.isArray(s)){i=function(){n.execCommand(s[0],s[1],s[2])}}a(c(t.toLowerCase()),function(e){var t={func:i,scope:l||n,desc:n.translate(f),alt:false,ctrl:false,shift:false};a(c(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=true;break;default:t.charCode=e.charCodeAt(0);t.keyCode=r[e]||e.toUpperCase().charCodeAt(0)}});o[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t});return true}}});