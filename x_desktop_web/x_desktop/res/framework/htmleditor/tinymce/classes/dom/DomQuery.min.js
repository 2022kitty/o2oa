define("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(n,t){var e=document,i=Array.prototype.push,r=Array.prototype.slice;var o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var f=n.Event;function u(n){return typeof n!=="undefined"}function s(n){return typeof n==="string"}function c(n){var t,i,r;r=e.createElement("div");t=e.createDocumentFragment();r.innerHTML=n;while(i=r.firstChild){t.appendChild(i)}return t}function l(n,t,e){var i;if(typeof t==="string"){t=c(t)}else if(t.length){for(i=0;i<t.length;i++){l(n,t[i],e)}return n}i=n.length;while(i--){e.call(n[i],t.parentNode?t:t)}return n}function a(n,t){return n&&t&&(" "+n.className+" ").indexOf(" "+t+" ")!==-1}function h(n,t){var e;n=n||[];if(typeof n=="string"){n=n.split(" ")}t=t||{};e=n.length;while(e--){t[n[e]]={}}return t}var d=h("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom");function p(n,t){return new p.fn.init(n,t)}function y(n){var t=arguments,e,i,r;for(i=1;i<t.length;i++){e=t[i];for(r in e){n[r]=e[r]}}return n}function g(n){var t=[],e,i;for(e=0,i=n.length;e<i;e++){t[e]=n[e]}return t}function v(n,t){var e;if(t.indexOf){return t.indexOf(n)}e=t.length;while(e--){if(t[e]===n){return e}}return-1}var m=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};var w=/^\s*|\s*$/g;function x(n){return n===null||n===undefined?"":(""+n).replace(w,"")}function C(n,t){var e,i,r,o,f;if(n){e=n.length;if(e===o){for(i in n){if(n.hasOwnProperty(i)){f=n[i];if(t.call(f,f,i)===false){break}}}}else{for(r=0;r<e;r++){f=n[r];if(t.call(f,f,i)===false){break}}}}return n}p.fn=p.prototype={constructor:p,selector:"",length:0,init:function(n,t){var i=this,r,f;if(!n){return i}if(n.nodeType){i.context=i[0]=n;i.length=1;return i}if(s(n)){if(n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3){r=[null,n,null]}else{r=o.exec(n)}if(r){if(r[1]){f=c(n).firstChild;while(f){this.add(f);f=f.nextSibling}}else{f=e.getElementById(r[2]);if(f.id!==r[2]){return i.find(n)}i.length=1;i[0]=f}}else{return p(t||document).find(n)}}else{this.add(n)}return i},toArray:function(){return g(this)},add:function(n){var t=this;if(!m(n)){if(n instanceof p){t.add(n.toArray())}else{i.call(t,n)}}else{i.apply(t,n)}return t},attr:function(n,t){var e=this;if(typeof n==="object"){C(n,function(n,t){e.attr(t,n)})}else if(u(t)){this.each(function(){if(this.nodeType===1){this.setAttribute(n,t)}})}else{return e[0]&&e[0].nodeType===1?e[0].getAttribute(n):undefined}return e},css:function(n,t){var e=this;if(typeof n==="object"){C(n,function(n,t){e.css(t,n)})}else{n=n.replace(/-(\D)/g,function(n,t){return t.toUpperCase()});if(u(t)){if(typeof t==="number"&&!d[n]){t+="px"}e.each(function(){var e=this.style;if(n==="opacity"&&this.runtimeStyle&&typeof this.runtimeStyle.opacity==="undefined"){e.filter=t===""?"":"alpha(opacity="+t*100+")"}try{e[n]=t}catch(n){}})}else{return e[0]?e[0].style[n]:undefined}}return e},remove:function(){var n=this,t,e=this.length;while(e--){t=n[e];f.clean(t);if(t.parentNode){t.parentNode.removeChild(t)}}return this},empty:function(){var n=this,t,e=this.length;while(e--){t=n[e];while(t.firstChild){t.removeChild(t.firstChild)}}return this},html:function(n){var t=this,e;if(u(n)){e=t.length;while(e--){t[e].innerHTML=n}return t}return t[0]?t[0].innerHTML:""},text:function(n){var t=this,e;if(u(n)){e=t.length;while(e--){t[e].innerText=t[0].textContent=n}return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return l(this,arguments,function(n){if(this.nodeType===1){this.appendChild(n)}})},prepend:function(){return l(this,arguments,function(n){if(this.nodeType===1){this.insertBefore(n,this.firstChild)}})},before:function(){var n=this;if(n[0]&&n[0].parentNode){return l(n,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)})}return n},after:function(){var n=this;if(n[0]&&n[0].parentNode){return l(n,arguments,function(n){this.parentNode.insertBefore(n,this)})}return n},appendTo:function(n){p(n).append(this);return this},addClass:function(n){return this.toggleClass(n,true)},removeClass:function(n){return this.toggleClass(n,false)},toggleClass:function(n,t){var e=this;if(n.indexOf(" ")!==-1){C(n.split(" "),function(){e.toggleClass(this,t)})}else{e.each(function(e){var i;if(a(e,n)!==t){i=e.className;if(t){e.className+=i?" "+n:n}else{e.className=x((" "+i+" ").replace(" "+n+" "," "))}}})}return e},hasClass:function(n){return a(this[0],n)},each:function(n){return C(this,n)},on:function(n,t){return this.each(function(){f.bind(this,n,t)})},off:function(n,t){return this.each(function(){f.unbind(this,n,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new p(r.apply(this,arguments))},eq:function(n){return n===-1?this.slice(n):this.slice(n,+n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(n){var t=this;if(t[0]){t[0].parentNode.replaceChild(p(n)[0],t[0])}return t},wrap:function(n){n=p(n)[0];return this.each(function(){var t=this,e=n.cloneNode(false);t.parentNode.insertBefore(e,t);e.appendChild(t)})},unwrap:function(){return this.each(function(){var n=this,t=n.firstChild,e;while(t){e=t;t=t.nextSibling;n.parentNode.insertBefore(e,n)}})},clone:function(){var n=[];this.each(function(){n.push(this.cloneNode(true))});return p(n)},find:function(n){var t,e,i=[];for(t=0,e=this.length;t<e;t++){p.find(n,this[t],i)}return p(i)},push:i,sort:[].sort,splice:[].splice};y(p,{extend:y,toArray:g,inArray:v,isArray:m,each:C,trim:x,makeMap:h,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,isXMLDoc:t.isXML,contains:t.contains,filter:function(n,t,e){if(e){n=":not("+n+")"}if(t.length===1){t=p.find.matchesSelector(t[0],n)?[t[0]]:[]}else{t=p.find.matches(n,t)}return t}});function N(n,t,e){var i=[],r=n[t];while(r&&r.nodeType!==9&&(e===undefined||r.nodeType!==1||!p(r).is(e))){if(r.nodeType===1){i.push(r)}r=r[t]}return i}function b(n,t,e,i){var r=[];for(;n;n=n[e]){if((!i||n.nodeType===i)&&n!==t){r.push(n)}}return r}C({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return N(n,"parentNode")},parentsUntil:function(n,t){return N(n,"parentNode",t)},next:function(n){return b(n,"nextSibling",1)},prev:function(n){return b(n,"previousSibling",1)},nextNodes:function(n){return b(n,"nextSibling")},prevNodes:function(n){return b(n,"previousSibling")},children:function(n){return b(n.firstChild,"nextSibling",1)},contents:function(n){return g((n.nodeName==="iframe"?n.contentDocument||n.contentWindow.document:n).childNodes)}},function(n,t){p.fn[n]=function(e){var i=this,r;if(i.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}if(i[0]){r=t(i[0],e)}r=p(r);if(e&&n!=="parentsUntil"){return r.filter(e)}return r}});p.fn.filter=function(n){return p.filter(n)};p.fn.is=function(n){return!!n&&this.filter(n).length>0};p.fn.init.prototype=p.fn;return p});