define("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){"use strict";function e(e,i,r){var n,o,f,u,h,s,y,a,c,v;c=t.getViewPort();o=t.getPos(i);f=o.x;u=o.y;if(e._fixed){f-=c.x;u-=c.y}n=e.getEl();v=t.getSize(n);h=v.width;s=v.height;v=t.getSize(i);y=v.width;a=v.height;r=(r||"").split("");if(r[0]==="b"){u+=a}if(r[1]==="r"){f+=y}if(r[0]==="c"){u+=Math.round(a/2)}if(r[1]==="c"){f+=Math.round(y/2)}if(r[3]==="b"){u-=s}if(r[4]==="r"){f-=h}if(r[3]==="c"){u-=Math.round(s/2)}if(r[4]==="c"){f-=Math.round(h/2)}return{x:f,y:u,w:h,h:s}}return{testMoveRel:function(i,r){var n=t.getViewPort();for(var o=0;o<r.length;o++){var f=e(this,i,r[o]);if(this._fixed){if(f.x>0&&f.x+f.w<n.w&&f.y>0&&f.y+f.h<n.h){return r[o]}}else{if(f.x>n.x&&f.x+f.w<n.w+n.x&&f.y>n.y&&f.y+f.h<n.h+n.y){return r[o]}}}return r[0]},moveRel:function(t,i){if(typeof i!="string"){i=this.testMoveRel(t,i)}var r=e(this,t,i);return this.moveTo(r.x,r.y)},moveBy:function(t,e){var i=this,r=i.layoutRect();i.moveTo(r.x+t,r.y+e);return i},moveTo:function(e,i){var r=this;function n(t,e,i){if(t<0){return 0}if(t+i>e){t=e-i;return t<0?0:t}return t}if(r.settings.constrainToViewport){var o=t.getViewPort(window);var f=r.layoutRect();e=n(e,o.w+o.x,f.w);i=n(i,o.h+o.y,f.h)}if(r._rendered){r.layoutRect({x:e,y:i}).repaint()}else{r.settings.x=e;r.settings.y=i}r.fire("move",{x:e,y:i});return r}}});