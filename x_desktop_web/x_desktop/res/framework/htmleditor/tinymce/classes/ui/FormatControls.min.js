define("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,n,i,o,r){var a=i.each;o.on("AddEditor",function(e){if(e.editor.rtl){t.rtl=true}s(e.editor)});t.translate=function(t){return o.translate(t)};e.tooltips=!r.iOS;function s(t){var e;function i(e,n){return function(){var i=this;t.on("nodeChange",function(o){var r=t.formatter;var s=null;a(o.parents,function(t){a(e,function(e){if(n){if(r.matchNode(t,n,{value:e.value})){s=e.value}}else{if(r.matchNode(t,e.value)){s=e.value}}if(s){return false}});if(s){return false}});i.value(s)})}}function o(t){t=t.replace(/;$/,"").split(";");var e=t.length;while(e--){t[e]=t[e].split("=")}return t}function r(){var e=0,n=[];var i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function o(t){var i=[];if(!t){return}a(t,function(t){var r={text:t.title,icon:t.icon};if(t.items){r.menu=o(t.items)}else{var a=t.format||"custom"+e++;if(!t.format){t.name=a;n.push(t)}r.format=a}i.push(r)});return i}function r(){var e;if(t.settings.style_formats_merge){if(t.settings.style_formats){e=o(i.concat(t.settings.style_formats))}else{e=o(i)}}else{e=o(t.settings.style_formats||i)}return e}t.on("init",function(){a(n,function(e){t.formatter.register(e.name,e)})});return{type:"menu",items:r(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return t.formatter.getCssText(this.settings.format)}},onPostRender:function(){var e=this,n=this.settings.format;if(n){e.parent().on("show",function(){e.disabled(!t.formatter.canApply(n));e.active(t.formatter.match(n))})}},onclick:function(){if(this.settings.format){f(this.settings.format)}}}}}e=r();a({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){t.addButton(n,{tooltip:e,onPostRender:function(){var e=this;if(t.formatter){t.formatter.formatChanged(n,function(t){e.active(t)})}else{t.on("init",function(){t.formatter.formatChanged(n,function(t){e.active(t)})})}},onclick:function(){f(n)}})});a({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})});a({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:function(){var e=this;if(t.formatter){t.formatter.formatChanged(n,function(t){e.active(t)})}else{t.on("init",function(){t.formatter.formatChanged(n,function(t){e.active(t)})})}}})});function s(){return t.undoManager?t.undoManager.hasUndo():false}function l(){return t.undoManager?t.undoManager.hasRedo():false}function u(){var e=this;e.disabled(!s());t.on("Undo Redo AddUndo TypingUndo",function(){e.disabled(!s())})}function c(){var e=this;e.disabled(!l());t.on("Undo Redo AddUndo TypingUndo",function(){e.disabled(!l())})}function d(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)});e.active(t.hasVisual)}t.addButton("undo",{tooltip:"Undo",onPostRender:u,cmd:"undo"});t.addButton("redo",{tooltip:"Redo",onPostRender:c,cmd:"redo"});t.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:u,cmd:"undo"});t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:c,cmd:"redo"});t.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:d,cmd:"mceToggleVisualAid"});a({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})});t.on("mousedown",function(){n.hideAll()});function f(e){if(e.control){e=e.control.value()}if(e){t.execCommand("mceToggleFormat",false,e)}}t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:e});t.addButton("formatselect",function(){var e=[],n=o(t.settings.block_formats||"Paragraph=p;"+"Address=address;"+"Pre=pre;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6");a(n,function(n){e.push({text:n[0],value:n[1],textStyle:function(){return t.formatter.getCssText(n[1])}})});return{type:"listbox",text:n[0][0],values:e,fixedWidth:true,onselect:f,onPostRender:i(e)}});t.addButton("fontselect",function(){var e="Andale Mono=andale mono,times;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,avant garde;"+"Book Antiqua=book antiqua,palatino;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Impact=impact,chicago;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco;"+"Times New Roman=times new roman,times;"+"Trebuchet MS=trebuchet ms,geneva;"+"Verdana=verdana,geneva;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats";var n=[],r=o(t.settings.font_formats||e);a(r,function(t){n.push({text:{raw:t[0]},value:t[1],textStyle:t[1].indexOf("dings")==-1?"font-family:"+t[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:true,onPostRender:i(n,"fontname"),onselect:function(e){if(e.control.settings.value){t.execCommand("FontName",false,e.control.settings.value)}}}});t.addButton("fontsizeselect",function(){var e=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var o=t.settings.fontsize_formats||n;a(o.split(" "),function(t){e.push({text:t,value:t})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:true,onPostRender:i(e,"fontsize"),onclick:function(e){if(e.control.settings.value){t.execCommand("FontSize",false,e.control.settings.value)}}}});t.addMenuItem("formats",{text:"Formats",menu:e})}});