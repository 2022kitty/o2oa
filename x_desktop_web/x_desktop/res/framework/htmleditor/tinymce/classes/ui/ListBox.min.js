define("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){"use strict";return e.extend({init:function(e){var t=this,i,n,u,l,a;t._values=i=e.values;if(i){for(n=0;n<i.length;n++){u=i[n].selected||e.value===i[n].value;if(u){l=l||i[n].text;t._value=i[n].value;break}}if(!u&&i.length>0){l=i[0].text;t._value=i[0].value}e.menu=i}e.text=e.text||l||i[0].text;t._super(e);t.addClass("listbox");t.on("select",function(i){var n=i.control;if(a){i.lastControl=a}if(e.multiple){n.active(!n.active())}else{t.value(i.control.settings.value)}a=n})},value:function(e){var t=this,i,n,u,l;function a(e,t){e.items().each(function(e){i=e.value()===t;if(i){n=n||e.text()}e.active(i);if(e.menu){a(e.menu,t)}})}if(typeof e!="undefined"){if(t.menu){a(t.menu,e)}else{u=t.settings.menu;for(l=0;l<u.length;l++){i=u[l].value==e;if(i){n=n||u[l].text}u[l].active=i}}t.text(n||this.settings.text)}return t._super(e)}})});