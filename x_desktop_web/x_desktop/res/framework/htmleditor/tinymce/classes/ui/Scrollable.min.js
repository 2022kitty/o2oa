define("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(t,l){"use strict";return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){var e=this,o=2;function i(){var l,i,c;function n(c,n,r,s,a,d){var g,f,h;var u,v,b,y;var E,p;f=e.getEl("scroll"+c);if(f){E=n.toLowerCase();p=r.toLowerCase();if(e.getEl("absend")){t.css(e.getEl("absend"),E,e.layoutRect()[s]-1)}if(!a){t.css(f,"display","none");return}t.css(f,"display","block");g=e.getEl("body");h=e.getEl("scroll"+c+"t");u=g["client"+r]-o*2;u-=l&&i?f["client"+d]:0;v=g["scroll"+r];b=u/v;y={};y[E]=g["offset"+n]+o;y[p]=u;t.css(f,y);y={};y[E]=g["scroll"+n]*b;y[p]=u*b;t.css(h,y)}}c=e.getEl("body");l=c.scrollWidth>c.clientWidth;i=c.scrollHeight>c.clientHeight;n("h","Left","Width","contentW",l,"Height");n("v","Top","Height","contentH",i,"Width")}function c(){function i(i,c,n,r,s){var a,d=e._id+"-scroll"+i,g=e.classPrefix;e.getEl().appendChild(t.createFragment('<div id="'+d+'" class="'+g+"scrollbar "+g+"scrollbar-"+i+'">'+'<div id="'+d+'t" class="'+g+'scrollbar-thumb"></div>'+"</div>"));e.draghelper=new l(d+"t",{start:function(){a=e.getEl("body")["scroll"+c];t.addClass(t.get(d),g+"active")},drag:function(t){var l,d,g,f,h=e.layoutRect();d=h.contentW>h.innerW;g=h.contentH>h.innerH;f=e.getEl("body")["client"+n]-o*2;f-=d&&g?e.getEl("scroll"+i)["client"+s]:0;l=f/e.getEl("body")["scroll"+n];e.getEl("body")["scroll"+c]=a+t["delta"+r]/l},stop:function(){t.removeClass(t.get(d),g+"active")}})}e.addClass("scroll");i("v","Top","Height","Y","Width");i("h","Left","Width","X","Height")}if(e.settings.autoScroll){if(!e._hasScroll){e._hasScroll=true;c();e.on("wheel",function(t){var l=e.getEl("body");l.scrollLeft+=(t.deltaX||0)*10;l.scrollTop+=t.deltaY*10;i()});t.on(e.getEl("body"),"scroll",i)}i()}}}});