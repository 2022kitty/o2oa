define("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(t,e){"use strict";return t.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var i;if(this.activeTabId){i=this.getEl(this.activeTabId);e.removeClass(i,this.classPrefix+"active");i.setAttribute("aria-selected","false")}this.activeTabId="t"+t;i=this.getEl("t"+t);i.setAttribute("aria-selected","true");e.addClass(i,this.classPrefix+"active");if(t!=this.lastIdx){this.items()[this.lastIdx].hide();this.lastIdx=t}this.items()[t].show().fire("showtab");this.reflow()},renderHtml:function(){var t=this,e=t._layout,i="",a=t.classPrefix;t.preRender();e.preRender(t);t.items().each(function(e,s){var n=t._id+"-t"+s;e.aria("role","tabpanel");e.aria("labelledby",n);i+='<div id="'+n+'" class="'+a+'tab" '+'unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"});return'<div id="'+t._id+'" class="'+t.classes()+'" hidefocus="1" tabindex="-1">'+'<div id="'+t._id+'-head" class="'+a+'tabs" role="tablist">'+i+"</div>"+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+e.renderHtml(t)+"</div>"+"</div>"},postRender:function(){var t=this;t._super();t.settings.activeTab=t.settings.activeTab||0;t.activateTab(t.settings.activeTab);this.on("click",function(e){var i=e.target.parentNode;if(e.target.parentNode.id==t._id+"-head"){var a=i.childNodes.length;while(a--){if(i.childNodes[a]==e.target){t.activateTab(a)}}}})},initLayoutRect:function(){var t=this,i,a,s;a=e.getSize(t.getEl("head")).width;a=a<0?0:a;s=0;t.items().each(function(e,i){a=Math.max(a,e.layoutRect().minW);s=Math.max(s,e.layoutRect().minH);if(t.settings.activeTab!=i){e.hide()}});t.items().each(function(t){t.settings.x=0;t.settings.y=0;t.settings.w=a;t.settings.h=s;t.layoutRect({x:0,y:0,w:a,h:s})});var n=e.getSize(t.getEl("head")).height;t.settings.minWidth=a;t.settings.minHeight=s+n;i=t._super();i.deltaH+=n;i.innerH=i.h-i.deltaH;return i}})});