define("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,n){"use strict";return e.extend({showPanel:function(){var e=this,t=e.settings;e.active(true);if(!e.panel){var i=t.panel;if(i.type){i={layout:"grid",items:i}}i.role=i.role||"dialog";i.popover=true;i.autohide=true;i.ariaRoot=true;e.panel=new n(i).on("hide",function(){e.active(false)}).on("cancel",function(n){n.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}else{e.panel.show()}e.panel.moveRel(e.getEl(),t.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;if(e.panel){e.panel.hide()}},postRender:function(){var e=this;e.aria("haspopup",true);e.on("click",function(n){if(n.control===e){if(e.panel&&e.panel.visible()){e.hidePanel()}else{e.showPanel();e.panel.focus(!!n.aria)}}});return e._super()}})});