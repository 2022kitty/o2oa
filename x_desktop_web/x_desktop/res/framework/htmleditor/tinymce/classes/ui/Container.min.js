define("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,i,n,r,s,a){"use strict";var o={};return t.extend({layout:"",innerClass:"container-inner",init:function(t){var i=this;i._super(t);t=i.settings;i._fixed=t.fixed;i._items=new e;if(i.isRtl()){i.addClass("rtl")}i.addClass("container");i.addClass("container-body","body");if(t.containerCls){i.addClass(t.containerCls)}i._layout=n.create((t.layout||i.layout)+"layout");if(i.settings.items){i.add(i.settings.items)}i._hasBody=true},items:function(){return this._items},find:function(t){t=o[t]=o[t]||new i(t);return t.find(this)},add:function(t){var e=this;e.items().add(e.create(t)).parent(e);return e},focus:function(t){var e=this,i,n,r;if(t){n=e.keyboardNav||e.parents().eq(-1)[0].keyboardNav;if(n){n.focusFirst(e);return}}r=e.find("*");if(e.statusbar){r.add(e.statusbar.items())}r.each(function(t){if(t.settings.autofocus){i=null;return false}if(t.canFocus){i=i||t}});if(i){i.focus()}return e},replace:function(t,e){var i,n=this.items(),r=n.length;while(r--){if(n[r]===t){n[r]=e;break}}if(r>=0){i=e.getEl();if(i){i.parentNode.removeChild(i)}i=t.getEl();if(i){i.parentNode.removeChild(i)}}e.parent(this)},create:function(e){var i=this,r,a=[];if(!s.isArray(e)){e=[e]}s.each(e,function(e){if(e){if(!(e instanceof t)){if(typeof e=="string"){e={type:e}}r=s.extend({},i.settings.defaults,e);e.type=r.type=r.type||e.type||i.settings.defaultType||(r.defaults?r.defaults.type:null);e=n.create(r)}a.push(e)}});return a},renderNew:function(){var t=this;t.items().each(function(e,i){var n,r;e.parent(t);if(!e._rendered){n=t.getEl("body");r=a.createFragment(e.renderHtml());if(n.hasChildNodes()&&i<=n.childNodes.length-1){n.insertBefore(r,n.childNodes[i])}else{n.appendChild(r)}e.postRender()}});t._layout.applyClasses(t);t._lastRect=null;return t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;e.items().set(e.create(t).concat(e.items().toArray()));return e.renderNew()},insert:function(t,e,i){var n=this,r,s,a;t=n.create(t);r=n.items();if(!i&&e<r.length-1){e+=1}if(e>=0&&e<r.length){s=r.slice(0,e).toArray();a=r.slice(e).toArray();r.set(s.concat(t,a))}return n.renderNew()},fromJSON:function(t){var e=this;for(var i in t){e.find("#"+i).value(t[i])}return e},toJSON:function(){var t=this,e={};t.find("*").each(function(t){var i=t.name(),n=t.value();if(i&&typeof n!="undefined"){e[i]=n}});return e},preRender:function(){},renderHtml:function(){var t=this,e=t._layout,i=this.settings.role;t.preRender();e.preRender(t);return'<div id="'+t._id+'" class="'+t.classes()+'"'+(i?' role="'+this.settings.role+'"':"")+">"+'<div id="'+t._id+'-body" class="'+t.classes("body")+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div>"+"</div>"},postRender:function(){var t=this,e;t.items().exec("postRender");t._super();t._layout.postRender(t);t._rendered=true;if(t.settings.style){a.css(t.getEl(),t.settings.style)}if(t.settings.border){e=t.borderBox();a.css(t.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})}if(!t.parent()){t.keyboardNav=new r({root:t})}return t},initLayoutRect:function(){var t=this,e=t._super();t._layout.recalc(t);return e},recalc:function(){var t=this,e=t._layoutRect,i=t._lastRect;if(!i||i.w!=e.w||i.h!=e.h){t._layout.recalc(t);e=t.layoutRect();t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h};return true}},reflow:function(){var e;if(this.visible()){t.repaintControls=[];t.repaintControls.map={};this.recalc();e=t.repaintControls.length;while(e--){t.repaintControls[e].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}t.repaintControls=[]}return this}})});