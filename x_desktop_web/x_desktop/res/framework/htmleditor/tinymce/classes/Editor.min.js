define("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(e,t,n,i,o,r,a,s,d,l,c,u,f,m,g,h,p,y,v,_,b,C){var w=e.DOM,x=t.ThemeManager,S=t.PluginManager;var E=_.extend,L=_.each,A=_.explode;var B=_.inArray,M=_.trim,D=_.resolve;var k=m.Event;var T=v.gecko,U=v.ie;function H(e,t){if(t=="selectionchange"){return e.getDoc()}if(!e.inline&&/^mouse|click|contextmenu|drop/.test(t)){return e.getDoc()}return e.getBody()}function N(e,n,i){var o=this,r,a;r=o.documentBaseUrl=i.documentBaseURL;a=i.baseURI;o.settings=n=E({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:true},n);t.language=n.language||"en";t.languageLoad=n.language_load;t.baseURL=i.baseURL;o.id=n.id=e;o.isNotDirty=true;o.plugins={};o.documentBaseURI=new u(n.document_base_url||r,{base_uri:a});o.baseURI=a;o.contentCSS=[];o.contentStyles=[];o.shortcuts=new C(o);o.execCommands={};o.queryStateCommands={};o.queryValueCommands={};o.loadedCSS={};o.suffix=i.suffix;o.editorManager=i;o.inline=n.inline;i.fire("SetupEditor",o);o.execCallback("setup",o)}N.prototype={render:function(){var e=this,t=e.settings,n=e.id,i=e.suffix;function o(){w.unbind(window,"ready",o);e.render()}if(!k.domLoaded){w.bind(window,"ready",o);return}if(!e.getElement()){return}if(!v.contentEditable){return}if(!t.inline){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}var r=e.getElement().form||w.getParent(n,"form");if(r){e.formElement=r;if(t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)){w.insertAfter(w.create("input",{type:"hidden",name:n}),n);e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)};w.bind(r,"submit reset",e.formEventDelegate);e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})});if(t.submit_patch&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit){r._mceOldSubmit=r.submit;r.submit=function(){e.editorManager.triggerSave();e.isNotDirty=true;return r._mceOldSubmit(r)}}}e.windowManager=new g(e);if(t.encoding=="xml"){e.on("GetContent",function(e){if(e.save){e.content=w.encode(e.content)}})}if(t.add_form_submit_trigger){e.on("submit",function(){if(e.initialized){e.save()}})}if(t.add_unload_trigger){e._beforeUnload=function(){if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}function a(){var n=f.ScriptLoader;if(t.language&&t.language!="en"&&!t.language_url){t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"}if(t.language_url){n.add(t.language_url)}if(t.theme&&typeof t.theme!="function"&&t.theme.charAt(0)!="-"&&!x.urls[t.theme]){var o=t.theme_url;if(o){o=e.documentBaseURI.toAbsolute(o)}else{o="themes/"+t.theme+"/theme"+i+".js"}x.load(t.theme,o)}if(_.isArray(t.plugins)){t.plugins=t.plugins.join(" ")}L(t.external_plugins,function(e,n){S.load(n,e);t.plugins+=" "+n});L(t.plugins.split(/[ ,]/),function(e){e=M(e);if(e&&!S.urls[e]){if(e.charAt(0)=="-"){e=e.substr(1,e.length);var t=S.dependencies(e);L(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"};e=S.createUrl(t,e);S.load(e.resource,e)})}else{S.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"})}}});n.loadQueue(function(){if(!e.removed){e.init()}})}a()},init:function(){var e=this,t=e.settings,n=e.getElement();var i,o,r,a,s,d,l,c,u,f,m,g=[];e.rtl=this.editorManager.i18n.rtl;e.editorManager.add(e);t.aria_label=t.aria_label||w.getAttrib(n,"aria-label",e.getLang("aria.rich_text_area"));if(t.theme){if(typeof t.theme!="function"){t.theme=t.theme.replace(/-/,"");d=x.get(t.theme);e.theme=new d(e,x.urls[t.theme]);if(e.theme.init){e.theme.init(e,x.urls[t.theme]||e.documentBaseUrl.replace(/\/$/,""))}}else{e.theme=t.theme}}function h(t){var n=S.get(t),i,o;i=S.urls[t]||e.documentBaseUrl.replace(/\/$/,"");t=M(t);if(n&&B(g,t)===-1){L(S.dependencies(t),function(e){h(e)});o=new n(e,i);e.plugins[t]=o;if(o.init){o.init(e,i);g.push(t)}}}L(t.plugins.replace(/\-/g,"").split(/[ ,]/),h);if(t.render_ui&&e.theme){e.orgDisplay=n.style.display;if(typeof t.theme!="function"){i=t.width||n.style.width||n.offsetWidth;o=t.height||n.style.height||n.offsetHeight;r=t.min_height||100;f=/^[0-9\.]+(|px)$/i;if(f.test(""+i)){i=Math.max(parseInt(i,10),100)}if(f.test(""+o)){o=Math.max(parseInt(o,10),r)}s=e.theme.renderUI({targetNode:n,width:i,height:o,deltaWidth:t.delta_width,deltaHeight:t.delta_height});if(!t.content_editable){w.setStyles(s.sizeContainer||s.editorContainer,{wi2dth:i,h2eight:o});o=(s.iframeHeight||o)+(typeof o=="number"?s.deltaHeight||0:"");if(o<r){o=r}}}else{s=t.theme(e,n);if(s.editorContainer.nodeType){s.editorContainer=s.editorContainer.id=s.editorContainer.id||e.id+"_parent"}if(s.iframeContainer.nodeType){s.iframeContainer=s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"}o=s.iframeHeight||n.offsetHeight}e.editorContainer=s.editorContainer}if(t.content_css){L(A(t.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})}if(t.content_style){e.contentStyles.push(t.content_style)}if(t.content_editable){n=a=s=null;return e.initContentBody()}e.iframeHTML=t.doctype+"<html><head>";if(t.document_base_url!=e.documentBaseUrl){e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'}if(!v.caretAfter&&t.ie7_compat){e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(m=0;m<e.contentCSS.length;m++){var p=e.contentCSS[m];e.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+p+'" />';e.loadedCSS[p]=true}c=t.body_id||"tinymce";if(c.indexOf("=")!=-1){c=e.getParam("body_id","","hash");c=c[e.id]||c}u=t.body_class||"";if(u.indexOf("=")!=-1){u=e.getParam("body_class","","hash");u=u[e.id]||""}e.iframeHTML+='</head><body id="'+c+'" class="mce-content-body '+u+'" '+"onload=\"window.parent.tinymce.get('"+e.id+"').fire('load');\"><br></body></html>";var y="javascript:(function(){"+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody(true);})()";if(document.domain!=location.hostname){l=y}a=w.add(s.iframeContainer,"iframe",{id:e.id+"_ifr",src:l||'javascript:""',frameBorder:"0",allowTransparency:"true",title:e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. "+"Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:o,display:"block"}});if(U){try{e.getDoc()}catch(e){a.src=l=y}}e.contentAreaContainer=s.iframeContainer;if(s.editorContainer){w.get(s.editorContainer).style.display=e.orgDisplay}w.get(e.id).style.display="none";w.setAttrib(e.id,"aria-hidden",true);if(!l){e.initContentBody()}n=a=s=null},initContentBody:function(t){var o=this,u=o.settings,f=w.get(o.id),m=o.getDoc(),g,v;if(!u.inline){o.getElement().style.visibility=o.orgVisibility}if(!t&&!u.content_editable){m.open();m.write(o.iframeHTML);m.close()}if(u.content_editable){o.on("remove",function(){var e=this.getBody();w.removeClass(e,"mce-content-body");w.removeClass(e,"mce-edit-focus");w.setAttrib(e,"contentEditable",null)});w.addClass(f,"mce-content-body");o.contentDocument=m=u.content_document||document;o.contentWindow=u.content_window||window;o.bodyElement=f;u.content_document=u.content_window=null;u.root_name=f.nodeName.toLowerCase()}g=o.getBody();g.disabled=true;if(!u.readonly){if(o.inline&&w.getStyle(g,"position",true)=="static"){g.style.position="relative"}g.contentEditable=o.getParam("content_editable_state",true)}g.disabled=false;o.schema=new h(u);o.dom=new e(m,{keep_values:true,url_converter:o.convertURL,url_converter_scope:o,hex_colors:u.force_hex_style_colors,class_filter:u.class_filter,update_styles:true,root_element:u.content_editable?o.id:null,collect:u.content_editable,schema:o.schema,onSetAttrib:function(e){o.fire("SetAttrib",e)}});o.parser=new p(u,o.schema);o.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){var n=e.length,i,r=o.dom,a,s;while(n--){i=e[n];a=i.attr(t);s="data-mce-"+t;if(!i.attributes.map[s]){if(t==="style"){i.attr(s,r.serializeStyle(r.parseStyle(a),i.name))}else if(t==="tabindex"){i.attr(s,a);i.attr(t,null)}else{i.attr(s,o.convertURL(a,t,i.name))}}}});o.parser.addNodeFilter("script",function(e){var t=e.length,n;while(t--){n=e[t];n.attr("type","mce-"+(n.attr("type")||"text/javascript"))}});o.parser.addNodeFilter("#cdata",function(e){var t=e.length,n;while(t--){n=e[t];n.type=8;n.name="#comment";n.value="[CDATA["+n.value+"]]"}});o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){var t=e.length,i,r=o.schema.getNonEmptyElements();while(t--){i=e[t];if(i.isEmpty(r)){i.empty().append(new n("br",1)).shortEnded=true}}});o.serializer=new i(u,o);o.selection=new r(o.dom,o.getWin(),o.serializer,o);o.formatter=new a(o);o.undoManager=new s(o);o.forceBlocks=new l(o);o.enterKey=new d(o);o.editorCommands=new c(o);o.fire("PreInit");if(!u.browser_spellcheck&&!u.gecko_spellcheck){m.body.spellcheck=false;w.setAttrib(g,"spellcheck","false")}o.fire("PostRender");o.quirks=y(o);if(u.directionality){g.dir=u.directionality}if(u.nowrap){g.style.whiteSpace="nowrap"}if(u.protect){o.on("BeforeSetContent",function(e){L(u.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})})}o.on("SetContent",function(){o.addVisual(o.getBody())});if(u.padd_empty_editor){o.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}o.load({initial:true,format:"html"});o.startContent=o.getContent({format:"raw"});o.initialized=true;L(o._pendingNativeEvents,function(e){o.dom.bind(H(o,e),e,function(e){o.fire(e.type,e)})});o.fire("init");o.focus(true);o.nodeChanged({initial:true});o.execCallback("init_instance_callback",o);if(o.contentStyles.length>0){v="";L(o.contentStyles,function(e){v+=e+"\r\n"});o.dom.addStyle(v)}L(o.contentCSS,function(e){if(!o.loadedCSS[e]){o.dom.loadCSS(e);o.loadedCSS[e]=true}});if(u.auto_focus){setTimeout(function(){var e=o.editorManager.get(u.auto_focus);e.selection.select(e.getBody(),1);e.selection.collapse(1);e.getBody().focus();e.getWin().focus()},100)}f=m=g=null},focus:function(e){var t,n=this,i=n.selection,o=n.settings.content_editable,r;var a,s=n.getDoc(),d;if(!e){r=i.getRng();if(r.item){a=r.item(0)}n._refreshContentEditable();if(!o){if(!v.opera){n.getBody().focus()}n.getWin().focus()}if(T||o){d=n.getBody();if(d.setActive){try{d.setActive()}catch(e){d.focus()}}else{d.focus()}if(o){i.normalize()}}if(a&&a.ownerDocument==s){r=s.body.createControlRange();r.addElement(a);r.select()}}if(n.editorManager.activeEditor!=n){if(t=n.editorManager.activeEditor){t.fire("deactivate",{relatedTarget:n})}n.fire("activate",{relatedTarget:t})}n.editorManager.activeEditor=n},execCallback:function(e){var t=this,n=t.settings[e],i;if(!n){return}if(t.callbackLookup&&(i=t.callbackLookup[e])){n=i.func;i=i.scope}if(typeof n==="string"){i=n.replace(/\.\w+$/,"");i=i?D(i):0;n=D(n);t.callbackLookup=t.callbackLookup||{};t.callbackLookup[e]={func:n,scope:i}}return n.apply(i||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;if(!e){return""}return n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"})},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==undefined?t:"{#"+e+"}")},getParam:function(e,t,n){var i=e in this.settings?this.settings[e]:t,o;if(n==="hash"){o={};if(typeof i==="string"){L(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){e=e.split("=");if(e.length>1){o[M(e[0])]=M(e[1])}else{o[M(e[0])]=M(e)}})}else{o=i}return o}return i},nodeChanged:function(){var e=this,t=e.selection,n,i,o;if(e.initialized&&!e.settings.disable_nodechange&&!e.settings.readonly){o=e.getBody();n=t.getStart()||o;n=U&&n.ownerDocument!=e.getDoc()?e.getBody():n;if(n.nodeName=="IMG"&&t.isCollapsed()){n=n.parentNode}i=[];e.dom.getParent(n,function(e){if(e===o){return true}i.push(e)});e.fire("NodeChange",{element:n,parents:i})}},addButton:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}if(!t.text&&!t.icon){t.icon=e}n.buttons=n.buttons||{};t.tooltip=t.tooltip||t.title;n.buttons[e]=t},addMenuItem:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}n.menuItems=n.menuItems||{};n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){var o=this,r=0,a;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!i||!i.skip_focus)){o.focus()}i=E({},i);i=o.fire("BeforeExecCommand",{command:e,ui:t,value:n});if(i.isDefaultPrevented()){return false}if(a=o.execCommands[e]){if(a.func.call(a.scope,t,n)!==true){o.fire("ExecCommand",{command:e,ui:t,value:n});return true}}L(o.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,n)){o.fire("ExecCommand",{command:e,ui:t,value:n});r=true;return false}});if(r){return r}if(o.theme&&o.theme.execCommand&&o.theme.execCommand(e,t,n)){o.fire("ExecCommand",{command:e,ui:t,value:n});return true}if(o.editorCommands.execCommand(e,t,n)){o.fire("ExecCommand",{command:e,ui:t,value:n});return true}o.getDoc().execCommand(e,t,n);o.fire("ExecCommand",{command:e,ui:t,value:n})},queryCommandState:function(e){var t=this,n,i;if(t._isHidden()){return}if(n=t.queryStateCommands[e]){i=n.func.call(n.scope);if(i!==true){return i}}i=t.editorCommands.queryCommandState(e);if(i!==-1){return i}try{return t.getDoc().queryCommandState(e)}catch(e){}},queryCommandValue:function(e){var t=this,n,i;if(t._isHidden()){return}if(n=t.queryValueCommands[e]){i=n.func.call(n.scope);if(i!==true){return i}}i=t.editorCommands.queryCommandValue(e);if(i!==undefined){return i}try{return t.getDoc().queryCommandValue(e)}catch(e){}},show:function(){var e=this;w.show(e.getContainer());w.hide(e.id);e.load();e.fire("show")},hide:function(){var e=this,t=e.getDoc();if(U&&t&&!e.inline){t.execCommand("SelectAll")}e.save();w.hide(e.getContainer());w.setStyle(e.id,"display",e.orgDisplay);e.fire("hide")},isHidden:function(){return!w.isHidden(this.id)},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t=this,n=t.getElement(),i;if(n){e=e||{};e.load=true;i=t.setContent(n.value!==undefined?n.value:n.innerHTML,e);e.element=n;if(!e.no_events){t.fire("LoadContent",e)}e.element=n=null;return i}},save:function(e){var t=this,n=t.getElement(),i,o;if(!n||!t.initialized){return}e=e||{};e.save=true;e.element=n;i=e.content=t.getContent(e);if(!e.no_events){t.fire("SaveContent",e)}i=e.content;if(!/TEXTAREA|INPUT/i.test(n.nodeName)){if(!t.inline){n.innerHTML=i}if(o=w.getParent(t.id,"form")){L(o.elements,function(e){if(e.name==t.id){e.value=i;return false}})}}else{n.value=i}e.element=n=null;if(e.set_dirty!==false){t.isNotDirty=true}return i},setContent:function(e,t){var n=this,i=n.getBody(),r;t=t||{};t.format=t.format||"html";t.set=true;t.content=e;if(!t.no_events){n.fire("BeforeSetContent",t)}e=t.content;if(e.length===0||/^\s+$/.test(e)){r=n.settings.forced_root_block;if(r&&n.schema.isValidChild(i.nodeName.toLowerCase(),r.toLowerCase())){e=U&&U<11?"":'<br data-mce-bogus="1">';e=n.dom.createHTML(r,n.settings.forced_root_block_attrs,e)}else if(!U){e='<br data-mce-bogus="1">'}i.innerHTML=e;n.fire("SetContent",t)}else{if(t.format!=="raw"){e=new o({},n.schema).serialize(n.parser.parse(e,{isRootContent:true}))}t.content=M(e);n.dom.setHTML(i,t.content);if(!t.no_events){n.fire("SetContent",t)}}return t.content},getContent:function(e){var t=this,n,i=t.getBody();e=e||{};e.format=e.format||"html";e.get=true;e.getInner=true;if(!e.no_events){t.fire("BeforeGetContent",e)}if(e.format=="raw"){n=i.innerHTML}else if(e.format=="text"){n=i.innerText||i.textContent}else{n=t.serializer.serialize(i,e)}if(e.format!="text"){e.content=M(n)}else{e.content=n}if(!e.no_events){t.fire("GetContent",e)}return e.content},insertContent:function(e){this.execCommand("mceInsertContent",false,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;if(!e.container){e.container=w.get(e.editorContainer||e.id+"_parent")}return e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return w.get(this.settings.content_element||this.id)},getWin:function(){var e=this,t;if(!e.contentWindow){t=w.get(e.id+"_ifr");if(t){e.contentWindow=t.contentWindow}}return e.contentWindow},getDoc:function(){var e=this,t;if(!e.contentDocument){t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,o=i.settings;if(o.urlconverter_callback){return i.execCallback("urlconverter_callback",e,n,true,t)}if(!o.convert_urls||n&&n.nodeName=="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(o.relative_urls){return i.documentBaseURI.toRelative(e)}e=i.documentBaseURI.toAbsolute(e,o.remove_script_host);return e},addVisual:function(e){var t=this,n=t.settings,i=t.dom,o;e=e||t.getBody();if(t.hasVisual===undefined){t.hasVisual=n.visual}L(i.select("table,a",e),function(e){var r;switch(e.nodeName){case"TABLE":o=n.visual_table_class||"mce-item-table";r=i.getAttrib(e,"border");if(!r||r=="0"){if(t.hasVisual){i.addClass(e,o)}else{i.removeClass(e,o)}}return;case"A":if(!i.getAttrib(e,"href",false)){r=i.getAttrib(e,"name")||e.id;o=n.visual_anchor_class||"mce-item-anchor";if(r){if(t.hasVisual){i.addClass(e,o)}else{i.removeClass(e,o)}}}return}});t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1;e.save();if(e.hasHiddenInput){w.remove(e.getElement().nextSibling)}if(!e.inline){if(U&&U<10){e.getDoc().execCommand("SelectAll",false,null)}w.setStyle(e.id,"display",e.orgDisplay);e.getBody().onload=null;k.unbind(e.getWin());k.unbind(e.getDoc())}var t=e.getContainer();k.unbind(e.getBody());k.unbind(t);e.fire("remove");e.editorManager.remove(e);w.remove(t);e.destroy()}},bindNative:function(e){var t=this;if(t.settings.readonly){return}if(t.initialized){t.dom.bind(H(t,e),e,function(n){t.fire(e,n)})}else{if(!t._pendingNativeEvents){t._pendingNativeEvents=[e]}else{t._pendingNativeEvents.push(e)}}},unbindNative:function(e){var t=this;if(t.initialized){t.dom.unbind(e)}},destroy:function(e){var t=this,n;if(t.destroyed){return}if(!e&&!t.removed){t.remove();return}if(e&&T){k.unbind(t.getDoc());k.unbind(t.getWin());k.unbind(t.getBody())}if(!e){t.editorManager.off("beforeunload",t._beforeUnload);if(t.theme&&t.theme.destroy){t.theme.destroy()}t.selection.destroy();t.dom.destroy()}n=t.formElement;if(n){if(n._mceOldSubmit){n.submit=n._mceOldSubmit;n._mceOldSubmit=null}w.unbind(n,"submit reset",t.formEventDelegate)}t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.settings.content_element=t.bodyElement=t.contentDocument=t.contentWindow=null;if(t.selection){t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null}t.destroyed=1},_refreshContentEditable:function(){var e=this,t,n;if(e._isHidden()){t=e.getBody();n=t.parentNode;n.removeChild(t);n.appendChild(t);t.focus()}},_isHidden:function(){var e;if(!T){return 0}e=this.selection.getSel();return!e||!e.rangeCount||e.rangeCount===0}};E(N.prototype,b);return N});