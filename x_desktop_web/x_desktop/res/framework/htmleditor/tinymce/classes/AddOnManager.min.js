define("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){var i=n.each;function r(){var e=this;e.items=[];e.urls={};e.lookup={}}r.prototype={get:function(e){if(this.lookup[e]){return this.lookup[e].instance}else{return undefined}},dependencies:function(e){var n;if(this.lookup[e]){n=this.lookup[e].dependencies}return n||[]},requireLangPack:function(n,i){var t=r.language;if(t&&r.languageLoad!==false){if(i){i=","+i+",";if(i.indexOf(","+t.substr(0,2)+",")!=-1){t=t.substr(0,2)}else if(i.indexOf(","+t+",")==-1){return}}e.ScriptLoader.add(this.urls[n]+"/langs/"+t+".js")}},add:function(e,n,i){this.items.push(n);this.lookup[e]={instance:n,dependencies:i};return n},createUrl:function(e,n){if(typeof n==="object"){return n}else{return{prefix:e.prefix,resource:n,suffix:e.suffix}}},addComponents:function(n,r){var t=this.urls[n];i(r,function(n){e.ScriptLoader.add(t+"/"+n)})},load:function(n,t,u,s){var o=this,f=t;function a(){var r=o.dependencies(n);i(r,function(e){var n=o.createUrl(t,e);o.load(n.resource,n,undefined,undefined)});if(u){if(s){u.call(s)}else{u.call(e)}}}if(o.urls[n]){return}if(typeof t==="object"){f=t.prefix+t.resource+t.suffix}if(f.indexOf("/")!==0&&f.indexOf("://")==-1){f=r.baseURL+"/"+f}o.urls[n]=f.substring(0,f.lastIndexOf("/"));if(o.lookup[n]){a()}else{e.ScriptLoader.add(f,a,s)}}};r.PluginManager=new r;r.ThemeManager=new r;return r});