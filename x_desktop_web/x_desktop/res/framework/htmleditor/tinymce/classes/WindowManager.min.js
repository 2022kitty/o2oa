define("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(n,t){return function(i){var e=this,o=[];function r(){if(o.length){return o[o.length-1]}}e.windows=o;e.open=function(t,e){var r;i.editorManager.activeEditor=i;t.title=t.title||" ";t.url=t.url||t.file;if(t.url){t.width=parseInt(t.width||320,10);t.height=parseInt(t.height||240,10)}if(t.body){t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}}if(!t.url&&!t.buttons){t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]}r=new n(t);o.push(r);r.on("close",function(){var n=o.length;while(n--){if(o[n]===r){o.splice(n,1)}}i.focus()});if(t.data){r.on("postRender",function(){this.find("*").each(function(n){var i=n.name();if(i in t.data){n.value(t.data[i])}})})}r.features=t||{};r.params=e||{};i.nodeChanged();return r.renderTo().reflow()};e.alert=function(n,e,o){t.alert(n,function(){if(e){e.call(o||this)}else{i.focus()}})};e.confirm=function(n,i,e){t.confirm(n,function(n){i.call(e||this,n)})};e.close=function(){if(r()){r().close()}};e.getParams=function(){return r()?r().params:null};e.setParams=function(n){if(r()){r().params=n}};e.getWindows=function(){return o}}});