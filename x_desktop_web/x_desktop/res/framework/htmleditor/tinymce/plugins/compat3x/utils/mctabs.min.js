function MCTabs(){this.settings=[];this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(t){this.settings=t};MCTabs.prototype.getParam=function(t,e){var n=null;n=typeof this.settings[t]=="undefined"?e:this.settings[t];if(n=="true"||n=="false")return n=="true";return n};MCTabs.prototype.showTab=function(t){t.className="current";t.setAttribute("aria-selected",true);t.setAttribute("aria-expanded",true);t.tabIndex=0};MCTabs.prototype.hideTab=function(t){var e=this;t.className="";t.setAttribute("aria-selected",false);t.setAttribute("aria-expanded",false);t.tabIndex=-1};MCTabs.prototype.showPanel=function(t){t.className="current";t.setAttribute("aria-hidden",false)};MCTabs.prototype.hidePanel=function(t){t.className="panel";t.setAttribute("aria-hidden",true)};MCTabs.prototype.getPanelForTab=function(t){return tinyMCEPopup.dom.getAttrib(t,"aria-controls")};MCTabs.prototype.displayTab=function(t,e,n){var a,i,o,s,r,c,u,d=this;o=document.getElementById(t);if(e===undefined){e=d.getPanelForTab(o)}a=document.getElementById(e);i=a?a.parentNode:null;s=o?o.parentNode:null;r=d.getParam("selection_class","current");if(o&&s){c=s.childNodes;for(u=0;u<c.length;u++){if(c[u].nodeName=="LI"){d.hideTab(c[u])}}d.showTab(o)}if(a&&i){c=i.childNodes;for(u=0;u<c.length;u++){if(c[u].nodeName=="DIV")d.hidePanel(c[u])}if(!n){o.focus()}d.showPanel(a)}};MCTabs.prototype.getAnchor=function(){var t,e=document.location.href;if((t=e.lastIndexOf("#"))!=-1)return e.substring(t+1);return""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var t=tinyMCEPopup.getWin().tinymce,e=tinyMCEPopup.dom,n=t.each;n(e.select("div.tabs"),function(a){e.setAttrib(a,"role","tablist");var i=tinyMCEPopup.dom.select("li",a);var o=function(t){mcTabs.displayTab(t,mcTabs.getPanelForTab(t));mcTabs.onChange.dispatch(t)};n(i,function(t){e.setAttrib(t,"role","tab");e.bind(t,"click",function(e){o(t.id)})});e.bind(e.getRoot(),"keydown",function(e){if(e.keyCode===9&&e.ctrlKey&&!e.altKey){t.dom.Event.cancel(e)}});n(e.select("a",a),function(t){e.setAttrib(t,"tabindex","-1")})})});