define("tinymce/spellcheckerplugin/DomTextMatcher",[],function(){return function(e,t){var n,r=[],i,a=t.dom;var d,o,s;d=t.schema.getBlockElements();o=t.schema.getWhiteSpaceElements();s=t.schema.getShortEndedElements();function l(e,t){if(!e[0]){throw"findAndReplaceDOMText cannot handle zero-length matches"}return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function f(e){var t;if(e.nodeType===3){return e.data}if(o[e.nodeName]&&!d[e.nodeName]){return""}t="";if(d[e.nodeName]||s[e.nodeName]){t+="\n"}if(e=e.firstChild){do{t+=f(e)}while(e=e.nextSibling)}return t}function u(e,t,n){var r,i,a,l,f=[],u=0,c=e,h,N=0;t=t.slice(0);t.sort(function(e,t){return e.start-t.start});h=t.shift();e:while(true){if(d[c.nodeName]||s[c.nodeName]){u++}if(c.nodeType===3){if(!i&&c.length+u>=h.end){i=c;l=h.end-u}else if(r){f.push(c)}if(!r&&c.length+u>h.start){r=c;a=h.start-u}u+=c.length}if(r&&i){c=n({startNode:r,startNodeIndex:a,endNode:i,endNodeIndex:l,innerNodes:f,match:h.text,matchIndex:N});u-=i.length-l;r=null;i=null;f=[];h=t.shift();N++;if(!h){break}}else if((!o[c.nodeName]||d[c.nodeName])&&c.firstChild){c=c.firstChild;continue}else if(c.nextSibling){c=c.nextSibling;continue}while(true){if(c.nextSibling){c=c.nextSibling;break}else if(c.parentNode!==e){c=c.parentNode}else{break e}}}}function c(e){function t(t,n){var i=r[n];if(!i.stencil){i.stencil=e(i)}var d=i.stencil.cloneNode(false);d.setAttribute("data-mce-index",n);if(t){d.appendChild(a.doc.createTextNode(t))}return d}return function(e){var n,r,i,d=e.startNode,o=e.endNode,s=e.matchIndex,l=a.doc;if(d===o){var f=d;i=f.parentNode;if(e.startNodeIndex>0){n=l.createTextNode(f.data.substring(0,e.startNodeIndex));i.insertBefore(n,f)}var u=t(e.match,s);i.insertBefore(u,f);if(e.endNodeIndex<f.length){r=l.createTextNode(f.data.substring(e.endNodeIndex));i.insertBefore(r,f)}f.parentNode.removeChild(f);return u}else{n=l.createTextNode(d.data.substring(0,e.startNodeIndex));r=l.createTextNode(o.data.substring(e.endNodeIndex));var c=t(d.data.substring(e.startNodeIndex),s);var h=[];for(var N=0,m=e.innerNodes.length;N<m;++N){var g=e.innerNodes[N];var x=t(g.data,s);g.parentNode.replaceChild(x,g);h.push(x)}var v=t(o.data.substring(0,e.endNodeIndex),s);i=d.parentNode;i.insertBefore(n,d);i.insertBefore(c,d);i.removeChild(d);i=o.parentNode;i.insertBefore(v,o);i.insertBefore(r,o);i.removeChild(o);return v}}}function h(e){var t=e.parentNode;t.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}function N(t){var n=e.getElementsByTagName("*"),r=[];t=typeof t=="number"?""+t:null;for(var i=0;i<n.length;i++){var a=n[i],d=a.getAttribute("data-mce-index");if(d!==null&&d.length){if(d===t||t===null){r.push(a)}}}return r}function m(e){var t=r.length;while(t--){if(r[t]===e){return t}}return-1}function g(e){var t=[];x(function(n,r){if(e(n,r)){t.push(n)}});r=t;return this}function x(e){for(var t=0,n=r.length;t<n;t++){if(e(r[t],t)===false){break}}return this}function v(t){if(r.length){u(e,r,c(t))}return this}function p(e,t){if(i&&e.global){while(n=e.exec(i)){r.push(l(n,t))}}return this}function b(e){var t,n=N(e?m(e):null);t=n.length;while(t--){h(n[t])}return this}function I(e){return r[e.getAttribute("data-mce-index")]}function B(e){return N(m(e))[0]}function C(e,t,n){r.push({start:e,end:e+t,text:i.substr(e,t),data:n});return this}function T(e){var n=N(m(e));var r=t.dom.createRng();r.setStartBefore(n[0]);r.setEndAfter(n[n.length-1]);return r}function w(e,n){var r=T(e);r.deleteContents();if(n.length>0){r.insertNode(t.dom.doc.createTextNode(n))}return r}function S(){r.splice(0,r.length);b();return this}i=f(e);return{text:i,matches:r,each:x,filter:g,reset:S,matchFromElement:I,elementFromMatch:B,find:p,add:C,wrap:v,unwrap:b,replace:w,rangeFromMatch:T,indexOf:m}}});