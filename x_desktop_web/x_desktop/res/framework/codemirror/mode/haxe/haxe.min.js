(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("haxe",function(e,t){var r=e.indentUnit;var n=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c");var i=e("operator"),a={type:"atom",style:"atom"},u={type:"attribute",style:"attribute"};var f=e("typedef");return{if:t,while:t,else:r,do:r,try:r,return:n,break:n,continue:n,new:n,throw:n,var:e("var"),inline:u,static:u,using:e("import"),public:u,private:u,cast:e("cast"),import:e("import"),macro:e("macro"),function:e("function"),catch:e("catch"),untyped:e("untyped"),callback:e("cb"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,never:e("property_access"),trace:e("trace"),class:f,abstract:f,enum:f,interface:f,typedef:f,extends:f,implements:f,dynamic:f,true:a,false:a,null:a}}();var i=/[+\-*&%=<>!?|]/;function a(e,t,r){t.tokenize=r;return r(e,t)}function u(e,t){var r=false,n;while((n=e.next())!=null){if(n==t&&!r)return false;r=!r&&n=="\\"}return r}var f,l;function o(e,t,r){f=e;l=r;return t}function c(e,t){var r=e.next();if(r=='"'||r=="'")return a(e,t,s(r));else if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);else if(r=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return o("number","number")}else if(/\d/.test(r)||r=="-"&&e.eat(/\d/)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return o("number","number")}else if(t.reAllowed&&(r=="~"&&e.eat(/\//))){u(e,"/");e.eatWhile(/[gimsu]/);return o("regexp","string-2")}else if(r=="/"){if(e.eat("*")){return a(e,t,d)}else if(e.eat("/")){e.skipToEnd();return o("comment","comment")}else{e.eatWhile(i);return o("operator",null,e.current())}}else if(r=="#"){e.skipToEnd();return o("conditional","meta")}else if(r=="@"){e.eat(/:/);e.eatWhile(/[\w_]/);return o("metadata","meta")}else if(i.test(r)){e.eatWhile(i);return o("operator",null,e.current())}else{var f;if(/[A-Z]/.test(r)){e.eatWhile(/[\w_<>]/);f=e.current();return o("type","variable-3",f)}else{e.eatWhile(/[\w_]/);var f=e.current(),l=n.propertyIsEnumerable(f)&&n[f];return l&&t.kwAllowed?o(l.type,l.style,f):o("variable","variable",f)}}}function s(e){return function(t,r){if(!u(t,e))r.tokenize=c;return o("string","string")}}function d(e,t){var r=false,n;while(n=e.next()){if(n=="/"&&r){t.tokenize=c;break}r=n=="*"}return o("comment","comment")}var m={atom:true,number:true,variable:true,string:true,regexp:true};function p(e,t,r,n,i,a){this.indented=e;this.column=t;this.type=r;this.prev=i;this.info=a;if(n!=null)this.align=n}function v(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return true}function h(e,t,r,n,i){var a=e.cc;b.state=e;b.stream=i;b.marked=null,b.cc=a;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var u=a.length?a.pop():M;if(u(r,n)){while(a.length&&a[a.length-1].lex)a.pop()();if(b.marked)return b.marked;if(r=="variable"&&v(e,n))return"variable-2";if(r=="variable"&&y(e,n))return"variable-3";return t}}}function y(e,t){if(/[a-z]/.test(t.charAt(0)))return false;var r=e.importedtypes.length;for(var n=0;n<r;n++)if(e.importedtypes[n]==t)return true}function x(e){var t=b.state;for(var r=t.importedtypes;r;r=r.next)if(r.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}var b={state:null,column:null,marked:null,cc:null};function k(){for(var e=arguments.length-1;e>=0;e--)b.cc.push(arguments[e])}function w(){k.apply(null,arguments);return true}function g(e){var t=b.state;if(t.context){b.marked="def";for(var r=t.localVars;r;r=r.next)if(r.name==e)return;t.localVars={name:e,next:t.localVars}}}var A={name:"this",next:null};function V(){if(!b.state.context)b.state.localVars=A;b.state.context={prev:b.state.context,vars:b.state.localVars}}function S(){b.state.localVars=b.state.context.vars;b.state.context=b.state.context.prev}function E(e,t){var r=function(){var r=b.state;r.lexical=new p(r.indented,b.stream.column(),e,null,r.lexical,t)};r.lex=true;return r}function W(){var e=b.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}W.lex=true;function z(e){function t(r){if(r==e)return w();else if(e==";")return k();else return w(t)}return t}function M(e){if(e=="@")return w(O);if(e=="var")return w(E("vardef"),$,z(";"),W);if(e=="keyword a")return w(E("form"),C,M,W);if(e=="keyword b")return w(E("form"),M,W);if(e=="{")return w(E("}"),V,U,W,S);if(e==";")return w();if(e=="attribute")return w(I);if(e=="function")return w(K);if(e=="for")return w(E("form"),z("("),E(")"),H,z(")"),W,M,W);if(e=="variable")return w(E("stat"),j);if(e=="switch")return w(E("form"),C,E("}","switch"),z("{"),U,W,W);if(e=="case")return w(C,z(":"));if(e=="default")return w(z(":"));if(e=="catch")return w(E("form"),V,z("("),R,z(")"),M,W,S);if(e=="import")return w(_,z(";"));if(e=="typedef")return w(D);return k(E("stat"),C,z(";"),W)}function C(e){if(m.hasOwnProperty(e))return w(Z);if(e=="function")return w(K);if(e=="keyword c")return w(T);if(e=="(")return w(E(")"),T,z(")"),W,Z);if(e=="operator")return w(C);if(e=="[")return w(E("]"),F(C,"]"),W,Z);if(e=="{")return w(E("}"),F(B,"}"),W,Z);return w()}function T(e){if(e.match(/[;\}\)\],]/))return k();return k(C)}function Z(e,t){if(e=="operator"&&/\+\+|--/.test(t))return w(Z);if(e=="operator"||e==":")return w(C);if(e==";")return;if(e=="(")return w(E(")"),F(C,")"),W,Z);if(e==".")return w(q,Z);if(e=="[")return w(E("]"),C,z("]"),W,Z)}function I(e){if(e=="attribute")return w(I);if(e=="function")return w(K);if(e=="var")return w($)}function O(e){if(e==":")return w(O);if(e=="variable")return w(O);if(e=="(")return w(E(")"),F(P,")"),W,M)}function P(e){if(e=="variable")return w()}function _(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0))){x(t);return w()}else if(e=="variable"||e=="property"||e=="."||t=="*")return w(_)}function D(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0))){x(t);return w()}else if(e=="type"&&/[A-Z]/.test(t.charAt(0))){return w()}}function j(e){if(e==":")return w(W,M);return k(Z,z(";"),W)}function q(e){if(e=="variable"){b.marked="property";return w()}}function B(e){if(e=="variable")b.marked="property";if(m.hasOwnProperty(e))return w(z(":"),C)}function F(e,t){function r(n){if(n==",")return w(e,r);if(n==t)return w();return w(z(t))}return function(n){if(n==t)return w();else return k(e,r)}}function U(e){if(e=="}")return w();return k(M,U)}function $(e,t){if(e=="variable"){g(t);return w(L,G)}return w()}function G(e,t){if(t=="=")return w(C,G);if(e==",")return w($)}function H(e,t){if(e=="variable"){g(t)}return w(E(")"),V,J,C,W,M,S)}function J(e,t){if(t=="in")return w()}function K(e,t){if(e=="variable"){g(t);return w(K)}if(t=="new")return w(K);if(e=="(")return w(E(")"),V,F(R,")"),W,L,M,S)}function L(e){if(e==":")return w(N)}function N(e){if(e=="type")return w();if(e=="variable")return w();if(e=="{")return w(E("}"),F(Q,"}"),W)}function Q(e){if(e=="variable")return w(L)}function R(e,t){if(e=="variable"){g(t);return w(L)}}return{startState:function(e){var n=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:c,reAllowed:true,kwAllowed:true,cc:[],lexical:new p((e||0)-r,0,"block",false),localVars:t.localVars,importedtypes:n,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation()}if(e.eatSpace())return null;var r=t.tokenize(e,t);if(f=="comment")return r;t.reAllowed=!!(f=="operator"||f=="keyword c"||f.match(/^[\[{}\(,;:]$/));t.kwAllowed=f!=".";return h(t,r,f,l,e)},indent:function(e,t){if(e.tokenize!=c)return 0;var n=t&&t.charAt(0),i=e.lexical;if(i.type=="stat"&&n=="}")i=i.prev;var a=i.type,u=n==a;if(a=="vardef")return i.indented+4;else if(a=="form"&&n=="{")return i.indented;else if(a=="stat"||a=="form")return i.indented+r;else if(i.info=="switch"&&!u)return i.indented+(/^(?:case|default)\b/.test(t)?r:2*r);else if(i.align)return i.column+(u?0:1);else return i.indented+(u?0:r)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});e.defineMIME("text/x-haxe","haxe");e.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(e,t){var r=e.peek();var n=e.sol();if(r=="#"){e.skipToEnd();return"comment"}if(n&&r=="-"){var i="variable-2";e.eat(/-/);if(e.peek()=="-"){e.eat(/-/);i="keyword a"}if(e.peek()=="D"){e.eat(/[D]/);i="keyword c";t.define=true}e.eatWhile(/[A-Z]/i);return i}var r=e.peek();if(t.inString==false&&r=="'"){t.inString=true;r=e.next()}if(t.inString==true){if(e.skipTo("'")){}else{e.skipToEnd()}if(e.peek()=="'"){e.next();t.inString=false}return"string"}e.next();return null},lineComment:"#"}});e.defineMIME("text/x-hxml","hxml")});