(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}var r=["true","false","null","auto"];var n=new RegExp("^"+r.join("|"));var i=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not"];var o=t(i);var f=/^::?[\w\-]+/;function u(e,t){var r=e.peek();if(r===")"){e.next();t.tokenizer=m;return"operator"}else if(r==="("){e.next();e.eatSpace();return"operator"}else if(r==="'"||r==='"'){t.tokenizer=s(e.next());return"string"}else{t.tokenizer=s(")",false);return"string"}}function a(e,t){return function(r,n){if(r.sol()&&r.indentation()<=e){n.tokenizer=m;return m(r,n)}if(t&&r.skipTo("*/")){r.next();r.next();n.tokenizer=m}else{r.next()}return"comment"}}function s(e,t){if(t==null){t=true}function r(n,i){var o=n.next();var f=n.peek();var u=n.string.charAt(n.pos-2);var a=o!=="\\"&&f===e||o===e&&u!=="\\";if(a){if(o!==e&&t){n.next()}i.tokenizer=m;return"string"}else if(o==="#"&&f==="{"){i.tokenizer=c(r);n.next();return"operator"}else{return"string"}}return r}function c(e){return function(t,r){if(t.peek()==="}"){t.next();r.tokenizer=e;return"operator"}else{return m(t,r)}}}function l(t){if(t.indentCount==0){t.indentCount++;var r=t.scopes[0].offset;var n=r+e.indentUnit;t.scopes.unshift({offset:n})}}function p(e){if(e.scopes.length==1)return;e.scopes.shift()}function m(e,t){var r=e.peek();if(e.match("/*")){t.tokenizer=a(e.indentation(),true);return t.tokenizer(e,t)}if(e.match("//")){t.tokenizer=a(e.indentation(),false);return t.tokenizer(e,t)}if(e.match("#{")){t.tokenizer=c(m);return"operator"}if(r==="."){e.next();if(e.match(/^[\w-]+/)){l(t);return"atom"}else if(e.peek()==="#"){l(t);return"atom"}else{return"operator"}}if(r==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))return"number";if(e.match(/^[\w-]+/)){l(t);return"atom"}if(e.peek()==="#"){l(t);return"atom"}}if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(n))return"keyword";if(e.match(/^url/)&&e.peek()==="("){t.tokenizer=u;return"atom"}if(r==="$"){e.next();e.eatWhile(/[\w-]/);if(e.peek()===":"){e.next();return"variable-2"}else{return"variable-3"}}if(r==="!"){e.next();return e.match(/^[\w]+/)?"keyword":"operator"}if(r==="="){e.next();if(e.match(/^[\w-]+/)){l(t);return"meta"}else{return"operator"}}if(r==="+"){e.next();if(e.match(/^[\w-]+/))return"variable-3";else return"operator"}if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){l(t);return"meta"}if(r==="@"){e.next();e.eatWhile(/[\w-]/);return"meta"}if(r==='"'||r==="'"){e.next();t.tokenizer=s(r);return"string"}if(r==":"&&e.match(f))return"keyword";if(e.eatWhile(/[\w-&]/)){if(e.peek()===":"&&!e.match(f,false))return"property";else return"atom"}if(e.match(o))return"operator";e.next();return null}function k(t,r){if(t.sol())r.indentCount=0;var n=r.tokenizer(t,r);var i=t.current();if(i==="@return")p(r);if(n==="atom")l(r);if(n!==null){var o=t.pos-i.length;var f=o+e.indentUnit*r.indentCount;var u=[];for(var a=0;a<r.scopes.length;a++){var s=r.scopes[a];if(s.offset<=f)u.push(s)}r.scopes=u}return n}return{startState:function(){return{tokenizer:m,scopes:[{offset:0,type:"sass"}],indentCount:0,definedVars:[],definedMixins:[]}},token:function(e,t){var r=k(e,t);t.lastToken={style:r,content:e.current()};return r},indent:function(e){return e.scopes[0].offset}}});e.defineMIME("text/x-sass","sass")});