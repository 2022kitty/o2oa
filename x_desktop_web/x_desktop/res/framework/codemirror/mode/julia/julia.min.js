(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("julia",function(e,r){var t="error";function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=r.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b/;var a=r.delimiters||/^[;,()[\]{}]/;var l=r.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*!*/;var o=["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"];var u=["end","else","elseif","catch","finally"];var f=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype","ccall"];var c=["true","false","enumerate","open","close","nothing","NaN","Inf","print","println","Int","Int8","Uint8","Int16","Uint16","Int32","Uint32","Int64","Uint64","Int128","Uint128","Bool","Char","Float16","Float32","Float64","Array","Vector","Matrix","String","UTF8String","ASCIIString","error","warn","info","@printf"];var s=/^(`|'|"{3}|([br]?"))/;var m=n(f);var p=n(c);var h=n(o);var v=n(u);var d=/^@[_A-Za-z][_A-Za-z0-9]*/;var g=/^:[_A-Za-z][_A-Za-z0-9]*/;var b=null;function x(e){var r=y(e);if(r=="["||r=="{"){return true}else{return false}}function y(e){if(e.scopes.length==0){return null}return e.scopes[e.scopes.length-1]}function _(e,r){var n=r.leaving_expr;if(e.sol()){n=false}r.leaving_expr=false;if(n){if(e.match(/^'+/)){return"operator"}}if(e.match(/^\.{2,3}/)){return"operator"}if(e.eatSpace()){return null}var o=e.peek();if(o==="#"){e.skipToEnd();return"comment"}if(o==="["){r.scopes.push("[")}if(o==="{"){r.scopes.push("{")}var u=y(r);if(u==="["&&o==="]"){r.scopes.pop();r.leaving_expr=true}if(u==="{"&&o==="}"){r.scopes.pop();r.leaving_expr=true}if(o===")"){r.leaving_expr=true}var f;if(!x(r)&&(f=e.match(h,false))){r.scopes.push(f)}if(!x(r)&&e.match(v,false)){r.scopes.pop()}if(x(r)){if(e.match(/^end/)){return"number"}}if(e.match(/^=>/)){return"operator"}if(e.match(/^[0-9\.]/,false)){var c=RegExp(/^im\b/);var b=false;if(e.match(/^\d*\.(?!\.)\d+([ef][\+\-]?\d+)?/i)){b=true}if(e.match(/^\d+\.(?!\.)\d*/)){b=true}if(e.match(/^\.\d+/)){b=true}if(b){e.match(c);r.leaving_expr=true;return"number"}var _=false;if(e.match(/^0x[0-9a-f]+/i)){_=true}if(e.match(/^0b[01]+/i)){_=true}if(e.match(/^0o[0-7]+/i)){_=true}if(e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){_=true}if(e.match(/^0(?![\dx])/i)){_=true}if(_){e.match(c);r.leaving_expr=true;return"number"}}if(e.match(/^(::)|(<:)/)){return"operator"}if(!n&&e.match(g)){return"string"}if(e.match(i)){return"operator"}if(e.match(s)){r.tokenize=z(e.current());return r.tokenize(e,r)}if(e.match(d)){return"meta"}if(e.match(a)){return null}if(e.match(m)){return"keyword"}if(e.match(p)){return"builtin"}if(e.match(l)){r.leaving_expr=true;return"variable"}e.next();return t}function z(e){while("rub".indexOf(e.charAt(0).toLowerCase())>=0){e=e.substr(1)}var n=e.length==1;var i="string";function a(a,l){while(!a.eol()){a.eatWhile(/[^'"\\]/);if(a.eat("\\")){a.next();if(n&&a.eol()){return i}}else if(a.match(e)){l.tokenize=_;return i}else{a.eat(/['"]/)}}if(n){if(r.singleLineStringErrors){return t}else{l.tokenize=_}}return i}a.isString=true;return a}function F(e,r){b=null;var n=r.tokenize(e,r);var i=e.current();if(i==="."){n=e.match(l,false)?null:t;if(n===null&&r.lastStyle==="meta"){n="meta"}return n}return n}var k={startState:function(){return{tokenize:_,scopes:[],leaving_expr:false}},token:function(e,r){var t=F(e,r);r.lastStyle=t;return t},indent:function(e,r){var t=0;if(r=="end"||r=="]"||r=="}"||r=="else"||r=="elseif"||r=="catch"||r=="finally"){t=-1}return(e.scopes.length+t)*4},lineComment:"#",fold:"indent",electricChars:"edlsifyh]}"};return k});e.defineMIME("text/x-julia","julia")});