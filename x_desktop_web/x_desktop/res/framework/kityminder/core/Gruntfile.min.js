var path=require("path");module.exports=function(e){"use strict";e.loadNpmTasks("grunt-module-dependence");e.loadNpmTasks("grunt-replace");e.loadNpmTasks("grunt-contrib-clean");e.loadNpmTasks("grunt-contrib-copy");e.loadNpmTasks("grunt-contrib-concat");e.loadNpmTasks("grunt-contrib-uglify");var n=e.file.readJSON("package.json");var i="/*!\n"+" * ====================================================\n"+" * <%= pkg.title || pkg.name %> - v<%= pkg.version %> - "+'<%= grunt.template.today("yyyy-mm-dd") %>\n'+'<%= pkg.homepage ? " * " + pkg.homepage + "\\n" : "" %>'+" * GitHub: <%= pkg.repository.url %> \n"+' * Copyright (c) <%= grunt.template.today("yyyy") %> <%= pkg.author.name %>;'+' Licensed <%= _.pluck(pkg.licenses, "type").join(", ") %>\n'+" * ====================================================\n"+" */\n\n";var t="\nuse('expose-kityminder');\n";e.initConfig({pkg:n,clean:{last:"dist"},dependence:{options:{base:"src",entrance:"expose-kityminder"},merge:{files:[{src:"src/**/*.js",dest:"dist/kityminder.core.js"}]}},concat:{options:{banner:i+"(function () {\n",footer:t+"})();"},build:{files:{"dist/kityminder.core.js":["dist/kityminder.core.js"]}}},uglify:{options:{banner:i},minimize:{src:"dist/kityminder.core.js",dest:"dist/kityminder.core.min.js"}},copy:{dist:{src:"src/kityminder.css",dest:"dist/kityminder.core.css"}}});e.registerTask("build",["clean","dependence","concat:build","uglify:minimize","copy"])};