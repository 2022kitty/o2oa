define(function(e,t,r){var n=e("../core/kity");var a=e("../core/utils");var o=e("../core/minder");var c=e("../core/node");var i=e("../core/command");var f=e("../core/module");var l=e("./text");f.register("basestylemodule",function(){var e=this;function t(e,t){return e.getData(t)||e.getStyle(t)}l.registerStyleHook(function(e,r){var n=t(e,"font-weight");var a=t(e,"font-style");var o=[n,a].join("/");r.eachItem(function(e,t){t.setFont({weight:n,style:a})})});return{commands:{bold:n.createClass("boldCommand",{base:i,execute:function(e){var t=e.getSelectedNodes();if(this.queryState("bold")==1){t.forEach(function(e){e.setData("font-weight").render()})}else{t.forEach(function(e){e.setData("font-weight","bold").render()})}e.layout()},queryState:function(){var t=e.getSelectedNodes(),r=0;if(t.length===0){return-1}t.forEach(function(e){if(e&&e.getData("font-weight")){r=1;return false}});return r}}),italic:n.createClass("italicCommand",{base:i,execute:function(e){var t=e.getSelectedNodes();if(this.queryState("italic")==1){t.forEach(function(e){e.setData("font-style").render()})}else{t.forEach(function(e){e.setData("font-style","italic").render()})}e.layout()},queryState:function(){var t=e.getSelectedNodes(),r=0;if(t.length===0){return-1}t.forEach(function(e){if(e&&e.getData("font-style")){r=1;return false}});return r}})},commandShortcutKeys:{bold:"ctrl+b",italic:"ctrl+i"}}})});