define(function(e,t,a){var o=e("../core/kity");var r=e("../core/command");var u=e("../core/module");var n=o.createClass("LayoutCommand",{base:r,execute:function(e,t){var a=e.getSelectedNodes();a.forEach(function(e){e.layout(t)})},queryValue:function(e){var t=e.getSelectedNode();if(t){return t.getData("layout")}},queryState:function(e){return e.getSelectedNode()?0:-1}});var c=o.createClass("ResetLayoutCommand",{base:r,execute:function(e){var t=e.getSelectedNodes();if(!t.length)t=[e.getRoot()];t.forEach(function(e){e.traverse(function(e){e.resetLayoutOffset();if(!e.isRoot()){e.setData("layout",null)}})});e.layout(300)},enableReadOnly:true});u.register("LayoutModule",{commands:{layout:n,resetlayout:c},contextmenu:[{command:"resetlayout"},{divider:true}],commandShortcutKeys:{resetlayout:"Ctrl+Shift+L"}})});