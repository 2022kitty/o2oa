define(function(e,t,r){var n=e("../core/kity");var a=e("../core/utils");var o=e("../core/minder");var c=e("../core/node");var l=e("../core/command");var u=e("../core/module");var d=e("../core/render");u.register("StyleModule",function(){var e=["font-size","font-family","font-weight","font-style","background","color"];var t=null;function r(t){var r=t.getData();for(var n=0;n<e.length;n++){if(e[n]in r)return true}}return{commands:{copystyle:n.createClass("CopyStyleCommand",{base:l,execute:function(r){var n=r.getSelectedNode();var a=n.getData();t={};e.forEach(function(e){if(e in a)t[e]=a[e];else{t[e]=null;delete t[e]}});return t},queryState:function(e){var t=e.getSelectedNodes();if(t.length!==1)return-1;return r(t[0])?0:-1}}),pastestyle:n.createClass("PastStyleCommand",{base:l,execute:function(e){e.getSelectedNodes().forEach(function(e){for(var r in t){if(t.hasOwnProperty(r))e.setData(r,t[r])}});e.renderNodeBatch(e.getSelectedNodes());e.layout(300);return t},queryState:function(e){return t&&e.getSelectedNodes().length?0:-1}}),clearstyle:n.createClass("ClearStyleCommand",{base:l,execute:function(r){r.getSelectedNodes().forEach(function(t){e.forEach(function(e){t.setData(e)})});r.renderNodeBatch(r.getSelectedNodes());r.layout(300);return t},queryState:function(e){var t=e.getSelectedNodes();if(!t.length)return-1;for(var n=0;n<t.length;n++){if(r(t[n]))return 0}return-1}})}}})});