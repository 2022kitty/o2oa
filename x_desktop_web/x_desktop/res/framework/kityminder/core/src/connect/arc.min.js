define(function(e,t,r){var a=e("../core/kity");var i=e("../core/connect");var n=(new a.Marker).pipe(function(){var e=7;var t=new a.Circle(e-1);this.addShape(t);this.setRef(e-1,0).setViewBox(-e,-e,e+e,e+e).setWidth(e).setHeight(e);this.dot=t;this.node.setAttribute("markerUnits","userSpaceOnUse")});i.register("arc",function(e,t,r,i,o){var s=e.getLayoutBox(),c=t.getLayoutBox();var h,d,f;var u=Math.abs;var v=[];var g=s.x>c.x?"right":"left";e.getMinder().getPaper().addResource(n);h=new a.Point(c.cx,c.cy);d=g=="left"?new a.Point(s.right+2,s.cy):new a.Point(s.left-2,s.cy);f=a.Vector.fromPoints(h,d);v.push("M",h);v.push("A",u(f.x),u(f.y),0,0,f.x*f.y>0?0:1,d);r.setMarker(n);n.dot.fill(o);r.setPathData(v)})});