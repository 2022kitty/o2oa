define(function(e,t,a){var r=e("../core/kity");var u=e("../core/connect");u.register("poly",function(e,t,a,r){var u=t.getLayoutVertexOut(),h=e.getLayoutVertexIn();var s=t.getLayoutVectorOut().normalize();var y=Math.round;var n=Math.abs;var o=[];o.push("M",y(u.x),y(u.y));switch(true){case n(s.x)>n(s.y)&&s.x<0:o.push("h",-t.getStyle("margin-left"));o.push("v",h.y-u.y);o.push("H",h.x);break;case n(s.x)>n(s.y)&&s.x>=0:o.push("h",t.getStyle("margin-right"));o.push("v",h.y-u.y);o.push("H",h.x);break;case n(s.x)<=n(s.y)&&s.y<0:o.push("v",-t.getStyle("margin-top"));o.push("h",h.x-u.x);o.push("V",h.y);break;case n(s.x)<=n(s.y)&&s.y>=0:o.push("v",t.getStyle("margin-bottom"));o.push("h",h.x-u.x);o.push("V",h.y);break}a.setMarker(null);a.setPathData(o)})});