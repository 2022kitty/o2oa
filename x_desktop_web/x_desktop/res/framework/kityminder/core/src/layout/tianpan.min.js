define(function(t,e,a){var o=t("../core/kity");var r=t("../core/layout");var n=t("../core/minder");r.register("tianpan",o.createClass({base:r,doLayout:function(t,e){if(e.length==0)return;var a=this;var r=t.getContentBox();var n,i,h;var c=5;var g=Math.max(r.width,50);e.forEach(function(t,e){t.setLayoutTransform(new o.Matrix);h=a.getTreeBox(t);g=Math.max(Math.max(h.width,h.height),g)});g=g/1.5/Math.PI;e.forEach(function(t,e){n=g*(Math.cos(c)+Math.sin(c)*c);i=g*(Math.sin(c)-Math.cos(c)*c);c+=.9-e*.02;t.setLayoutVectorIn(new o.Vector(1,0));t.setVertexIn(new o.Point(r.cx,r.cy));t.setLayoutTransform(new o.Matrix);a.move([t],n,i)})},getOrderHint:function(t){var e=[];var a=t.getLayoutBox();var o=5;e.push({type:"up",node:t,area:{x:a.x,y:a.top-t.getStyle("margin-top")-o,width:a.width,height:t.getStyle("margin-top")},path:["M",a.x,a.top-o,"L",a.right,a.top-o]});e.push({type:"down",node:t,area:{x:a.x,y:a.bottom+o,width:a.width,height:t.getStyle("margin-bottom")},path:["M",a.x,a.bottom+o,"L",a.right,a.bottom+o]});return e}}))});