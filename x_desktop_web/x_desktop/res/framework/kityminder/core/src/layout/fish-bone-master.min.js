define(function(t,e,o){var r=t("../core/kity");var a=t("../core/layout");a.register("fish-bone-master",r.createClass("FishBoneMasterLayout",{base:a,doLayout:function(t,e,o){var a=[],n=[];var i=e[0];var s=t.getContentBox();t.setVertexOut(new r.Point(s.right,s.cy));t.setLayoutVectorOut(new r.Vector(1,0));if(!i)return;var g=i.getContentBox();var c=t.getStyle("margin-right");var y=i.getStyle("margin-left");var v=i.getStyle("margin-top");var u=i.getStyle("margin-bottom");e.forEach(function(t,e){t.setLayoutTransform(new r.Matrix);var o=t.getContentBox();if(e%2){n.push(t);t.setVertexIn(new r.Point(o.left,o.top));t.setLayoutVectorIn(new r.Vector(1,1))}else{a.push(t);t.setVertexIn(new r.Point(o.left,o.bottom));t.setLayoutVectorIn(new r.Vector(1,-1))}});this.stack(a,"x");this.stack(n,"x");this.align(a,"bottom");this.align(n,"top");var h=s.right+c+y;var l=s.cy-u-t.getStyle("margin-top");var m=s.cy+v+t.getStyle("margin-bottom");this.move(a,h,l);this.move(n,h+y,m)}}))});