angular.module("kityminderEditor").service("revokeDialog",["$modal","minder.service",function(e,t){t.registerEvent(function(){var t=window.minder;var r=window.editor;var o=r.hotbox.getParentFSM();t.on("importNodeData",function(){o.jump("modal","import-text-modal");var i=e.open({animation:true,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导入节点"},defaultValue:function(){return""},type:function(){return"import"}}});i.result.then(function(e){try{t.Text2Children(t.getSelectedNode(),e)}catch(e){alert(e)}o.jump("normal","import-text-finish");r.receiver.selectAll()},function(){o.jump("normal","import-text-finish");r.receiver.selectAll()})});t.on("exportNodeData",function(){o.jump("modal","export-text-modal");var i=e.open({animation:true,templateUrl:"ui/dialog/imExportNode/imExportNode.tpl.html",controller:"imExportNode.ctrl",size:"md",resolve:{title:function(){return"导出节点"},defaultValue:function(){var e=t.getSelectedNode(),r=window.kityminder.data.getRegisterProtocol("text").Node2Text;return r(e)},type:function(){return"export"}}});i.result.then(function(e){o.jump("normal","export-text-finish");r.receiver.selectAll()},function(){o.jump("normal","export-text-finish");r.receiver.selectAll()})})});return{}}]);