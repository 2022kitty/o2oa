angular.module("kityminderEditor").directive("kityminderEditor",["config","minder.service","revokeDialog",function(i,e,n){return{restrict:"EA",templateUrl:"ui/directive/kityminderEditor/kityminderEditor.html",replace:true,scope:{onInit:"&"},link:function(n,r,d){var o=r.children(".minder-editor")[0];function t(i,r){n.onInit({editor:i,minder:r});e.executeCallback()}if(typeof seajs!="undefined"){seajs.config({base:"./src"});define("demo",function(e){var r=e("editor");var d=window.editor=new r(o);if(window.localStorage.__dev_minder_content){d.minder.importJson(JSON.parse(window.localStorage.__dev_minder_content))}d.minder.on("contentchange",function(){window.localStorage.__dev_minder_content=JSON.stringify(d.minder.exportJson())});window.minder=window.km=d.minder;n.editor=d;n.minder=minder;n.config=i.getConfig();n.$apply();t(d,minder)});seajs.use("demo")}else if(window.kityminder&&window.kityminder.Editor){var m=new kityminder.Editor(o);window.editor=n.editor=m;window.minder=n.minder=m.minder;n.config=i.getConfig();t(m,m.minder)}}}}]);