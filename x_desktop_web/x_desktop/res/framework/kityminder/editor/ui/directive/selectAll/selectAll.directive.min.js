angular.module("kityminderEditor").directive("selectAll",function(){return{restrict:"E",templateUrl:"ui/directive/selectAll/selectAll.html",scope:{minder:"="},replace:true,link:function(e){var t=e.minder;e.items=["revert","siblings","level","path","tree"];e.select={all:function(){var e=[];t.getRoot().traverse(function(t){e.push(t)});t.select(e,true);t.fire("receiverfocus")},revert:function(){var e=t.getSelectedNodes();var r=[];t.getRoot().traverse(function(t){if(e.indexOf(t)==-1){r.push(t)}});t.select(r,true);t.fire("receiverfocus")},siblings:function(){var e=t.getSelectedNodes();var r=[];e.forEach(function(e){if(!e.parent)return;e.parent.children.forEach(function(e){if(r.indexOf(e)==-1)r.push(e)})});t.select(r,true);t.fire("receiverfocus")},level:function(){var e=t.getSelectedNodes().map(function(e){return e.getLevel()});var r=[];t.getRoot().traverse(function(t){if(e.indexOf(t.getLevel())!=-1){r.push(t)}});t.select(r,true);t.fire("receiverfocus")},path:function(){var e=t.getSelectedNodes();var r=[];e.forEach(function(e){while(e&&r.indexOf(e)==-1){r.push(e);e=e.parent}});t.select(r,true);t.fire("receiverfocus")},tree:function(){var e=t.getSelectedNodes();var r=[];e.forEach(function(e){e.traverse(function(e){if(r.indexOf(e)==-1)r.push(e)})});t.select(r,true);t.fire("receiverfocus")}}}}});