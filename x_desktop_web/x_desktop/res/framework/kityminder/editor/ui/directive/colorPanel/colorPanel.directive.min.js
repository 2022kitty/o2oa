angular.module("kityminderEditor").directive("colorPanel",function(){return{restrict:"E",templateUrl:"ui/directive/colorPanel/colorPanel.html",scope:{minder:"="},replace:true,link:function(e){var o=e.minder;var t=o.getThemeItems();e.$on("colorPicked",function(t,r){t.stopPropagation();e.bgColor=r;o.execCommand("background",r)});e.setDefaultBg=function(){var e=o.getSelectedNode();var t=o.getNodeStyle(e,"background");return typeof t==="object"?t.toHEX():t};e.bgColor=e.setDefaultBg()||"#fff"}}});