angular.module("kityminderEditor").controller("imExportNode.ctrl",function(e,t,n,r,c){e.title=n;e.value=r;e.type=c;e.ok=function(){if(e.value==""){return}t.close(e.value);editor.receiver.selectAll()};e.cancel=function(){t.dismiss("cancel");editor.receiver.selectAll()};setTimeout(function(){$(".single-input").focus();$(".single-input")[0].setSelectionRange(0,r.length)},30);e.shortCut=function(t){t.stopPropagation();if(t.keyCode==27){e.cancel()}if(t.keyCode==8&&c=="export"){t.preventDefault()}if(t.keyCode==9){t.preventDefault();var n=t.target;var r=a(n);var l=n.value;n.value=l.substr(0,r)+"\t"+l.substr(r);o(n,r+1)}};function a(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length);t=n.text.length}else if(e.selectionStart||e.selectionStart=="0"){t=e.selectionStart}return t}function o(e,t){if(e.setSelectionRange){e.focus();e.setSelectionRange(t,t)}else if(e.createTextRange){var n=e.createTextRange();n.collapse(true);n.moveEnd("character",t);n.moveStart("character",t);n.select()}}});