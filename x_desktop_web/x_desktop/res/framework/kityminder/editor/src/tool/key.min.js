define(function(e,r,t){var i=e("./keymap");var n=4096;var a=8192;var f=16384;function s(e){if(typeof e=="string"){return o(e)}return u(e)}function c(e,r){return e&&r&&s(e)==s(r)}r.hash=s;r.is=c;function u(e){var r=0;if(e.ctrlKey||e.metaKey){r|=n}if(e.altKey){r|=a}if(e.shiftKey){r|=f}if([16,17,18,91].indexOf(e.keyCode)===-1){if(e.keyCode===229&&e.keyIdentifier){return r|=parseInt(e.keyIdentifier.substr(2),16)}r|=e.keyCode}return r}function o(e){var r=0;e.toLowerCase().split(/\s*\+\s*/).forEach(function(e){switch(e){case"ctrl":case"cmd":r|=n;break;case"alt":r|=a;break;case"shift":r|=f;break;default:r|=i[e]}});return r}});