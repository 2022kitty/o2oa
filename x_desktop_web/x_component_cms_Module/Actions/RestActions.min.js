MWF.xApplication.cms.Module=MWF.xApplication.cms.Module||{};MWF.xApplication.cms.Module.Actions=MWF.xApplication.cms.Module.Actions||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.require("MWF.widget.UUID",null,false);MWF.xApplication.cms.Module.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_cms_assemble_control","x_component_cms_Module")},getId:function(t,e,a,i){this.action.invoke({name:"getId",async:i,parameter:{count:t},success:e,failure:a})},getUUID:function(t){var e="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(a){e=a.data[0];if(t)t(e)},failure:null});return e},listDocumentAll:function(t,e,a,i,n,c){this.action.invoke({name:"listDocumentAll",async:c,parameter:{id:t,count:e,catagoryId:a},success:i,failure:n})},listDocumentFilterNext:function(t,e,a,i,n,c){this.action.invoke({name:"listDocumentFilterNext",async:c,data:a,parameter:{id:t,count:e},success:i,failure:n})},listDocumentFilterPrev:function(t,e,a,i,n,c){this.action.invoke({name:"listDocumentFilterPrev",async:c,data:a,parameter:{id:t,count:e},success:i,failure:n})},listViewDataNext:function(t,e,a,i,n,c){this.action.invoke({name:"listViewDataNext",async:c,data:a,parameter:{id:t,count:e},success:i,failure:n})},listDraftNext:function(t,e,a,i,n,c){this.action.invoke({name:"listDraftNext",async:c,data:a,parameter:{id:t,count:e},success:i,failure:n})},listDraftPrev:function(t,e,a,i,n,c){this.action.invoke({name:"listDraftPrev",async:c,data:a,parameter:{id:t,count:e},success:i,failure:n})},listDraftFilterAttribute:function(t,e,a){this.action.invoke({name:"listDraftFilterAttribute",async:a,success:t,failure:e})},listPublishFilterAttribute:function(t,e,a){this.action.invoke({name:"listPublishFilterAttribute",async:a,success:t,failure:e})},listArchiveFilterAttribute:function(t,e,a){this.action.invoke({name:"listArchiveFilterAttribute",async:a,success:t,failure:e})},listCategoryDraftFilterAttribute:function(t,e,a,i){this.action.invoke({name:"listCategoryDraftFilterAttribute",async:i,parameter:{catagoryId:t},success:e,failure:a})},listCategoryPublishFilterAttribute:function(t,e,a,i){this.action.invoke({name:"listCategoryPublishFilterAttribute",async:i,parameter:{catagoryId:t},success:e,failure:a})},listCategoryArchiveFilterAttribute:function(t,e,a,i){this.action.invoke({name:"listCategoryArchiveFilterAttribute",async:i,parameter:{catagoryId:t},success:e,failure:a})},getDocument:function(t,e,a,i){this.action.invoke({name:"getDocument",parameter:{id:t},success:a,failure:i})},saveDocument:function(t,e,a){if(!t.isNewDocument){this.updateDocument(t,e,a)}else{this.addDocument(t,e,a)}},addDocument:function(t,e,a){this.action.invoke({name:"addDocument",data:t,success:e,failure:a})},updateDocument:function(t,e,a){this.action.invoke({name:"updateDocument",data:t,parameter:{id:t.id},success:e,failure:a})},removeDocument:function(t,e,a,i){this.action.invoke({name:"removeDocument",async:i,parameter:{id:t},success:e,failure:a})},publishDocument:function(t,e,a){this.action.invoke({name:"publishDocument",data:t,parameter:{id:t.id},success:e,failure:a})},cancelPublishDocument:function(t,e,a){this.action.invoke({name:"cancelPublishDocument",data:t,parameter:{id:t.id},success:e,failure:a})},achiveDocument:function(t,e,a){this.action.invoke({name:"achiveDocument",data:t,parameter:{id:t.id},success:e,failure:a})},redraftDocument:function(t,e,a){this.action.invoke({name:"redraftDocument",data:t,parameter:{id:t.id},success:e,failure:a})},listColumnController:function(t,e,a,i){this.action.invoke({name:"listColumnController",async:i,parameter:{appId:t},success:e,failure:a})},listColumn:function(t,e,a){this.action.invoke({name:"listColumn",async:a,success:t,failure:e})},getColumn:function(t,e,a){this.action.invoke({name:"getColumn",parameter:{id:t.id},success:e,failure:a})},listCategory:function(t,e,a,i){var n=this;this.action.invoke({name:"listCategory",parameter:{appId:t},async:i,success:function(t){n.transCategoryData(t);e.call(this,t)},failure:a})},getCategory:function(t,e,a){var i=this;this.action.invoke({name:"getCategory",data:categoryData,parameter:{id:t},success:function(t){i.transCategoryData(t);e.call(this,t)},failure:a})},transCategoryData:function(t){var e=function(t){if(!t.name)t.name=t.catagoryName;if(!t.alias)t.alias=t.catagoryAlias;if(!t.catagoryName)t.catagoryName=t.name;if(!t.catagoryAlias)t.catagoryAlias=t.alias};if(t.data){if(typeOf(t.data)=="array"){t.data.each(function(t){e(t)})}else{e(t.data)}}else{t.data=[]}},getForm:function(t,e,a,i){this.action.invoke({name:"getForm",async:i,parameter:{id:t},success:e,failure:a})},listViewByCategory:function(t,e,a,i){this.action.invoke({name:"listViewByCategory",async:i,parameter:{catagoryId:t},success:e,failure:a})},getView:function(t,e,a){this.action.invoke({name:"getView",parameter:{id:t},success:e,failure:a})},listCategoryViewByCatagory:function(t,e,a,i){this.action.invoke({name:"listCategoryViewByCatagory",async:i,parameter:{catagoryId:t},success:e,failure:a})}});