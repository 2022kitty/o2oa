MWF.xApplication.process=MWF.xApplication.process||{};MWF.xApplication.process.ApplicationExplorer=MWF.xApplication.process.ApplicationExplorer||{};MWF.xApplication.process.ApplicationExplorer.Actions=MWF.xApplication.process.ApplicationExplorer.Actions||{};MWF.require("MWF.xDesktop.Actions.RestActions",null,false);MWF.xApplication.process.ApplicationExplorer.Actions.RestActions=new Class({initialize:function(){this.action=new MWF.xDesktop.Actions.RestActions("/Actions/action.json","x_processplatform_assemble_designer","x_component_process_ApplicationExplorer")},getId:function(i,a,e,t){this.action.invoke({name:"getId",async:t,parameter:{count:i},success:a,failure:e})},getUUID:function(){var i="";this.action.invoke({name:"getId",async:false,parameter:{count:"1"},success:function(a){i=a.data[0].id},failure:null});return i},listApplication:function(i,a,e,t){if(i){this.action.invoke({name:"listApplicationByCategory",async:t,parameter:{applicationCategory:i},success:a,failure:e})}else{this.action.invoke({name:"listApplication",async:t,success:a,failure:e})}},listApplicationSummary:function(i,a,e,t){if(i){this.action.invoke({name:"listApplicationByCategorySummary",async:t,parameter:{applicationCategory:i},success:a,failure:e})}else{this.action.invoke({name:"listApplicationSummary",async:t,success:a,failure:e})}},listApplicationCategory:function(i,a,e){this.action.invoke({name:"listApplicationCategory",async:e,success:i,failure:a})},listProcess:function(i,a,e,t){this.action.invoke({name:"listProcess",async:t,parameter:{id:i},success:a,failure:e})},listForm:function(i,a,e,t){this.action.invoke({name:"listForm",async:t,parameter:{id:i},success:a,failure:e})},listDictionary:function(i,a,e,t){this.action.invoke({name:"listDictionary",async:t,parameter:{id:i},success:a,failure:e})},listScript:function(i,a,e,t){this.action.invoke({name:"listScript",async:t,parameter:{id:i},success:a,failure:e})},saveApplication:function(i,a,e){if(i.id){this.updateApplication(i,a,e)}else{this.addApplication(i,a,e)}},updateApplication:function(i,a,e){this.action.invoke({name:"updataApplication",data:i,parameter:{id:i.id},success:a,failure:e})},addApplication:function(i,a,e){this.getId(1,function(t){i.id=t.data[0].id;this.action.invoke({name:"addApplication",data:i,success:a,failure:e})}.bind(this))},getApplication:function(i,a,e,t){this.action.invoke({name:"getApplication",async:t,parameter:{id:i},success:a,failure:e})},deleteApplication:function(i,a,e,t,s){this.action.invoke({name:"removeApplication",async:s,parameter:{id:i,onlyRemoveNotCompleted:a},success:e,failure:t})},listFormCategory:function(i,a,e,t,s){this.action.invoke({name:"listFormCategory",async:s,parameter:{id:i||"(0)",count:a||"20"},success:e,failure:t})},listProcessCategory:function(i,a,e,t,s){this.action.invoke({name:"listProcessCategory",async:s,parameter:{id:i||"(0)",count:a||"20"},success:e,failure:t})},getDictionary:function(i,a,e,t){this.action.invoke({name:"getDictionary",async:t,parameter:{id:i},success:a,failure:e})},getScript:function(i,a,e,t){this.action.invoke({name:"getScript",async:t,parameter:{id:i},success:a,failure:e})},getForm:function(i,a,e,t){this.action.invoke({name:"getForm",async:t,parameter:{id:i},success:a,failure:e})},getProcess:function(i,a,e,t){this.action.invoke({name:"getProcess",async:t,parameter:{id:i},success:a,failure:e})},getProcessCategory:function(i,a,e,t){this.action.invoke({name:"getProcessCategory",async:t,parameter:{id:i},success:a,failure:e})},getFormCategory:function(i,a,e,t){this.action.invoke({name:"getFormCategory",async:t,parameter:{id:i},success:a,failure:e})},saveProcessCategory:function(i,a,e){if(i.id){this.updateProcessCategory(i,a,e)}else{this.addProcessCategory(i,a,e)}},updateProcessCategory:function(i,a,e){this.action.invoke({name:"updataProcessCategory",data:i,parameter:{id:i.id},success:a,failure:e})},addProcessCategory:function(i,a,e){this.getId(1,function(t){i.id=t.data[0].id;this.action.invoke({name:"addProcessCategory",data:i,success:a,failure:e})}.bind(this))},saveProcess:function(i,a,e){if(!i.isNewProcess){this.updateProcess(i,a,e)}else{this.addProcess(i,a,e)}},addProcess:function(i,a,e){this.action.invoke({name:"addProcess",data:i,parameter:{id:i.categoryId},success:a,failure:e})},updateProcess:function(i,a,e){this.action.invoke({name:"updataProcess",data:i,parameter:{id:i.id},success:a,failure:e})},deleteProcess:function(i,a,e,t){this.action.invoke({name:"removeProcess",async:t,parameter:{id:i},success:a,failure:e})},saveForm:function(i,a,e){if(!i.isNewForm){this.updateForm(i,a,e)}else{this.addForm(i,a,e)}},updateForm:function(i,a,e){var t=MWF.encodeJsonString(JSON.encode(i));var s={id:i.json.id,data:t,name:i.json.name,alias:i.json.name,description:i.json.description,application:i.json.application};this.action.invoke({name:"updataForm",data:s,parameter:{id:i.json.id},success:a,failure:e})},addForm:function(i,a,e){var t=MWF.encodeJsonString(JSON.encode(i));var s={id:i.json.id,data:t,name:i.json.name,alias:i.json.name,description:i.json.description,application:i.json.application};this.action.invoke({name:"addForm",data:s,parameter:{id:i.json.categoryId},success:a,failure:e})},deleteForm:function(i,a,e,t){this.action.invoke({name:"removeForm",async:t,parameter:{id:i},success:a,failure:e})},saveDictionary:function(i,a,e){if(i.id){this.updateDictionary(i,a,e)}else{this.addDictionary(i,a,e)}},updateDictionary:function(i,a,e){this.action.invoke({name:"updataDictionary",data:i,parameter:{applicationDict:i.id},success:a,failure:e})},addDictionary:function(i,a,e){this.action.invoke({name:"addDictionary",data:i,success:a,failure:e})},saveScript:function(i,a,e){if(!i.isNewScript){this.updateScript(i,a,e)}else{this.addScript(i,a,e)}},updateScript:function(i,a,e){this.action.invoke({name:"updataScript",data:i,parameter:{id:i.id},success:a,failure:e})},addScript:function(i,a,e){this.action.invoke({name:"addScript",data:i,success:a,failure:e})}});