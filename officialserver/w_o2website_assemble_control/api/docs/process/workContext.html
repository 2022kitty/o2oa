<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        <!--
        .STYLE2 {
            color: #333333;
            font-weight: bold;
            font-size: 18px;
        }
        .STYLE3 {color: #333333}
        .STYLE4 {font-size: 14px}

        .title {
            padding: 2px 5px; margin: 20px 0px 5px 0px; color:#000000; border-radius: 5px; font-weight: normal; background-color: #dddddd
        }
        .code-javascript {
            padding: 5px 10px; border-radius: 5px; border: 1px solid #cccccc; background-color: #ffffff
        }
        .session {
            padding: 5px 10px; color: #ffffff;font-size: 18px; font-weight: bold; background-color: #666666; border-radius: 5px;
        }
        .top {
            font-size: 12px; float: right; color: #ffffff; font-weight: normal;
        }
        .returnType {
            color: #000000; font-style: italic; font-family: 'Courier New', Monospace; font-weight: bold; font-size: 16px;
        }

        -->
    </style>
</head>

<body>
    <h1 class="STYLE3">Object: workContent</h1>
    <div>
        <div style="padding: 5px;">你可以通过workContext获取和流程相关的流程实例对象数据。</div>
        <div class="title">Syntax:</div>
        <div class="code-javascript">var context = this.workContext;</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top" name="workContext:getTask">Top</a>Method: getTask</div>
        <div style="padding: 5px;">获取当前流程与当前用户相关的待办对象：task对象。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var task = this.workContext.getTask();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">task</span> : 当前用户的待办任务对象：task。</div>
        <div style="padding: 0px 5px;"><span class="returnType">null</span> : 当前用户没有对此流程实例的待办时，或流程实例已经流转结束，返回null。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top">Top</a>Method: getWork</div>
        <div style="padding: 5px;">获取当前流程实例对象：work对象。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var work = this.workContext.getWork();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">work</span> : 流程实例流转中,返回当前流程实例对象：work。</div>
        <div style="padding: 0px 5px;"><span class="returnType">workCompleted</span> : 如果流程已结束，返回已结束的流程实例对象：workCompleted。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top" name="#workContext:getActivity">Top</a>Method: getActivity</div>
        <div style="padding: 5px;">获取当前流程实例所在的活动节点对象：activity对象。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var activity = this.workContext.getActivity();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">activity</span> : 当前流程实例所在的活动节点对象：activity。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getTaskList">Top</a>Method: getTaskList</div>
        <div style="padding: 5px;">获取当前流程实例的所有待办对象。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var taskList = this.workContext.getTaskList();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">array of task</span> : 当前流程实例的所有待办。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getTaskCompletedList">Top</a>Method: getTaskCompletedList</div>
        <div style="padding: 5px;">获取当前流程实例的所有已办对象。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var taskCompletedList = this.workContext.getTaskCompletedList();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">array of taskCompletedList</span> : 当前流程实例的所有已办。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getControl">Top</a>Method: getControl</div>
        <div style="padding: 5px;">获取当前人对流程实例的所有权限。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var control = this.workContext.getControl();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">object</span> : 当前人对流程实例的所拥有的权限。返回内容如下：</div>
        <textarea class="code-javascript">{
    "allowVisit": true,             //是否允许访问
    "allowProcessing": true,        //是否允许流转
    "allowReadProcessing": false,   //是否有待阅
    "allowSave": true,              //是否允许保存业务数据
    "allowReset": false,            //是否允许重置处理人
    "allowRetract": false,          //是否允许撤回
    "allowReroute": false,          //是否允许调度
    "allowDelete": true             //是否允许删除流程实例
}</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getWorkLogList">Top</a>Method: getWorkLogList</div>
        <div style="padding: 5px;">获取当前流程实例的所有流程记录。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var workLogList = this.workContext.getWorkLogList();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">Object</span> : 当前流程实例的所有流程记录。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getAttachmentList">Top</a>Method: getAttachmentList</div>
        <div style="padding: 5px;">获取当前流程实例的附件对象列表。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var attachmentList = this.workContext.getAttachmentList();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">Array of Object</span> : 当前流程实例的所有附件对象。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:getRouteList">Top</a>Method: getRouteList</div>
        <div style="padding: 5px;">获取当前待办的可选路由。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var routeList = this.workContext.getRouteList();</textarea>
        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">Array of String</span> : 当前待办的可选路由。</div>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="#workContext:setTitle">Top</a>Method: setTitle</div>
        <div style="padding: 5px;">重新设置流程实例标题。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.workContext.setTitle("标题");</textarea>

    </div>

    <div style="height: 5px; border-top:2px solid #dddddd; margin: 5px 0px"></div>

<script>
    (function(){
        $(".code-javascript").each(function(i, node){
            highlight(node);
        });
    })();
</script>
</body>
</html>
