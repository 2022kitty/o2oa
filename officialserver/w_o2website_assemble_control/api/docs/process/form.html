<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        <!--
        .STYLE2 {
            color: #333333;
            font-weight: bold;
            font-size: 18px;
        }
        .STYLE3 {color: #333333}
        .STYLE4 {font-size: 14px}

        .title {
            padding: 2px 5px; margin: 20px 0px 5px 0px; color:#000000; border-radius: 5px; font-weight: normal; background-color: #dddddd
        }
        .code-javascript {
            padding: 5px 10px; border-radius: 5px; border: 1px solid #cccccc; background-color: #ffffff
        }
        .session {
            padding: 5px 10px; color: #ffffff;font-size: 18px; font-weight: bold; background-color: #666666; border-radius: 5px;
        }
        .top {
            font-size: 12px; float: right; color: #ffffff; font-weight: normal;
        }
        .returnType {
            color: #000000; font-style: italic; font-family: 'Courier New', Monospace; font-weight: bold; font-size: 16px;
        }
        .jsonData {
            color: #333333; font-style: italic; font-size: 14px;
        }

        -->
    </style>
</head>

<body>
    <h1 class="STYLE3">Object: form</h1>
    <div>
        <div style="padding: 5px;">您可以通过form对象访问所有表单元素，可以对表单所展现的文档进行流转、保存、重置和调度等操作。（form对象只能在前端脚本中使用）</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var form = this.form;</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:get">Top</a>Method: get</div>
        <div style="padding: 5px;">获取表单元素。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var formElement = this.get(id);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">id</span> : （string）必选，表单元素的唯一标识</div>

        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">FormElement</span> : 表单元素对象。</div>
        <div style="padding: 0px 5px;"> <span class="returnType">null</span> : 当表单中没有指定id的元素时，返回null。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:getField">Top</a>Method: getField</div>
        <div style="padding: 5px;">类似于get，getField只能获取可用于数据收集的表单元素。包括：Textfield、Number 、Personfield、Calendar、Textarea、Select、Radio、Checkbox、Datagrid、Htmleditor、Attachment、ImageClipper。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var formElement = this.getField(id);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">id</span> : （string）必选，表单元素的唯一标识</div>

        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">FormElement</span> : 表单元素对象。</div>
        <div style="padding: 0px 5px;"> <span class="returnType">null</span> : 当表单中没有指定id的元素时，返回null。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:getDesktop">Top</a>Method: getDesktop</div>
        <div style="padding: 5px;">获取Desktop对象</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">var desktop = this.getDesktop();</textarea>

        <div class="title">Return:</div>
        <div style="padding: 0px 5px;"><span class="returnType">Desktop</span> : 系统桌面对象。</div>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:getData">Top</a>Method: getData</div>
        <div style="padding: 5px;">获取当前实例的所有业务数据，同Object: data。</div>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:save">Top</a>Method: save</div>
        <div style="padding: 5px;">保存当前form的data数据</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.save([callback]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">callback</span> : （function）可选，保存完成后的回调方法。方法参数为请求返回的json数据</div>

        <div class="title">Examples:</div>
        <textarea class="code-javascript">
//设置新的标题为“new title”，保存后提示成功信息
this.data.title = "new Title";
this.form.save(function(json){
    this.notice("set new title success! id is: "+json.data.id, "success");
}.bind(this));</textarea>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:close">Top</a>Method: close</div>
        <div style="padding: 5px;">关闭当前打开的form窗口</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.close();</textarea>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:process">Top</a>Method: process</div>
        <div style="padding: 5px;">对当前form打开的文档进行流转</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.process([option]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">option</span> : （object）可选，进行流转的相关数据，数据格式如下：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">routeName</span> : （string）流转到下一步要选择的路由名称。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">opinion</span> : （string）流转意见。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">callback</span> : （function）流转完成后的回调方法。</div>

        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.process({
    "routeName": "送审批",
    "opinion": "同意",
    "callback": function(json){
        this.notice("process success", "success");
    }.bind(this)
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:reset">Top</a>Method: reset</div>
        <div style="padding: 5px;">对当前文档的待办重新设定处理人</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.reset(option);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">option</span> : （object）必选，进行重置处理人的相关数据，数据格式如下：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">names</span> : （array）要重置给哪些身份。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">opinion</span> : （string）重置处理人意见。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">success</span> : （function）重置成功后的回调方法。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">failure</span> : （function）重置失败后的回调方法。</div>


        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.reset({
    "names": "张三(综合部)",
    "opinion": "授权处理",
    "success": function(json){
        this.notice("reset success", "success");
    }.bind(this),
    "failure": function(json){
        this.notice("reset failure", "error");
    }.bind(this)
});</textarea>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:retract">Top</a>Method: retract</div>
        <div style="padding: 5px;">上一个处理人收回已经流转下去的文件。这个操作只允许上一个处理人在流转文件之后，下一个处理人未处理的时候执行。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.retract([option]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">option</span> : （object）可选，进行撤回文件操作的相关数据，数据格式如下：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">success</span> : （function）撤回成功后的回调方法。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">failure</span> : （function）撤回失败后的回调方法。</div>

        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.retract({
    "success": function(json){
        this.notice("retract success", "success");
    }.bind(this),
    "failure": function(json){
        this.notice("retract failure", "error");
    }.bind(this)
});</textarea>


        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:print">Top</a>Method: print</div>
        <div style="padding: 5px;">用一个新的浏览器窗口来打开当前文档，并且可指定用不同的表单来展现。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.print([application], [form]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">application</span> : （string）可选，指定打开表单的流程应用的名称或id，为空表示当前流程应用。</div>
        <div style="padding: 0px 5px;"> <span class="returnType">form</span> : （string）可选，指定打开表单的名称或id</div>
        <div style="padding: 0px 5px;">如果application和form为空，会使用流程设计中当前活动指定的打印表单来展现，如果没有指定打印表单，则用当前默认表单。</div>

        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.print("", "订单打印表单");</textarea>



        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:deleteWork">Top</a>Method: deleteWork</div>
        <div style="padding: 5px;">删除当前工作文档。只有有删除权限的用户才能成功执行此操作。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.deleteWork([option]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">option</span> : （object）可选，进行删除文件操作的相关数据，数据格式如下：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">success</span> : （function）删除成功后的回调方法。</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">failure</span> : （function）删除失败后的回调方法。</div>
        <div style="padding: 0px 5px;">option参数为空时，会弹出确认框，要求确认后才执行删除操作；option参数不为空时，直接执行删除操作。</div>


        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.deleteWork({
    "success": function(json){
        this.notice("deleteWork success", "success");
    }.bind(this),
    "failure": function(json){
        this.notice("deleteWork failure", "error");
    }.bind(this)
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>

        <div class="session"><a href="#top" class="top"  name="form:notice">Top</a>Method: notice</div>
        <div style="padding: 5px;">显示一个信息框。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.notice(content, [type], [target], [where]);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">content</span> : （string）必选，要显示的信息文本</div>
        <div style="padding: 0px 5px;"> <span class="returnType">type</span> : （string）可选，要显示的信息类型，有如下几种可选：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">success</span> : 成功</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">error</span> : 错误</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">wran</span> : 警告</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">info</span> : 信息</div>
        <div style="padding: 0px 5px;"> <span class="returnType">target</span> : （Element）可选，信息框显示位置的参考DOM对象</div>
        <div style="padding: 0px 5px;"> <span class="returnType">content</span> : （object）可选，信息框显示相对于target的x轴和y轴位置。如： {"x": "center", "y": "center"}</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">x</span> : 水平位置，可用“left”、“right”和“center”；可以用数组定义外部（outside）位置和内部（inside）位置，如：['right', 'inside']</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">y</span> : 垂直位置，可用“top”、“bottom”和“center”；可以用数组定义外部（outside）位置和内部（inside）位置，如：['top', 'outside']</div>

        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.notice("this is my information", "info");</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top"  name="form:confirm">Top</a>Method: confirm</div>
        <div style="padding: 5px;">弹出一个确认框。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.confirm(type, title, content, width, height, ok, cancel);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">type</span> : （string）要显示的信息类型，有如下几种可选：</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">success</span> : 成功</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">error</span> : 错误</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">wran</span> : 警告</div>
        <div style="padding: 0px 20px;"> <span class="jsonData">info</span> : 信息</div>
        <div style="padding: 0px 5px;"> <span class="returnType">title</span> : （string）确认框标题栏显示文本</div>
        <div style="padding: 0px 5px;"> <span class="returnType">content</span> : （string）确认框的内容显示文本</div>
        <div style="padding: 0px 5px;"> <span class="returnType">width</span> : （number）确认框的宽度</div>
        <div style="padding: 0px 5px;"> <span class="returnType">height</span> : （number）确认框的高度</div>
        <div style="padding: 0px 5px;"> <span class="returnType">ok</span> : （function）点击“确定”按钮后的回调函数</div>
        <div style="padding: 0px 5px;"> <span class="returnType">cancel</span> : （function）点击“取消”按钮后的回调函数</div>
        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.confirm("wran", "删除确认", "您确定要删除吗？",function(){
    //执行删除代码
    this.close();
}, function(){
    this.close();
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top"  name="form:openWindow">Top</a>Method: openWindow</div>
        <div style="padding: 5px;">使用其它表单打开当前的流程实例文档。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.openWindow(form, app);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">form</span> : （string）表单的ID或名称</div>
        <div style="padding: 0px 5px;"> <span class="returnType">app</span> : （string）流程应用的ID或名称</div>
        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.openWindow("表单1", "采购管理");</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top"  name="form:addEvent">Top</a>Method:addEvent</div>
        <div style="padding: 5px;">给form添加事件。</div>
        <div class="title">Syntax:</div>
        <textarea class="code-javascript">this.form.addEvent(type, event);</textarea>
        <div class="title">Arguments:</div>
        <div style="padding: 0px 5px;"> <span class="returnType">type</span> : （string）事件名称</div>
        <div style="padding: 0px 5px;"> <span class="returnType">event</span> : （function）事件执行方法</div>
        <div class="title">Examples:</div>
        <textarea class="code-javascript">
this.form.addEvent("load", function(){
    this.form.notice("表单载入完成", "success");
}.bind(this));</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:load">Top</a>Event:load</div>
        <div style="padding: 5px;">表单载入事件。当表单完全载入后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("load", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:queryLoad">Top</a>Event:queryLoad, beforeLoad</div>
        <div style="padding: 5px;">在表单开始载入之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("queryLoad", function(){
    //event code
});
this.form.addEvent("beforeLoad", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:queryLoad">Top</a>Event:postLoad, afterLoad</div>
        <div style="padding: 5px;">表单载入事件。当表单完全载入后执行。（与load事件相同）</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("postLoad", function(){
    //event code
});
this.form.addEvent("afterLoad", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeSave">Top</a>Event:beforeSave</div>
        <div style="padding: 5px;">在表单数据保存之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeSave", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:afterSave">Top</a>Event:afterSave</div>
        <div style="padding: 5px;">在表单数据保存之后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("afterSave", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeClose">Top</a>Event:beforeClose</div>
        <div style="padding: 5px;">在表单关闭之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeClose", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:submit">Top</a>Event:submit, beforeProcess</div>
        <div style="padding: 5px;">在表单提交（文档流转）之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("submit", function(){
    //event code
});
this.form.addEvent("beforeProcess", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:afterProcess">Top</a>Event:afterProcess</div>
        <div style="padding: 5px;">在表单提交（文档流转）之后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("afterProcess", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeReset">Top</a>Event:beforeReset</div>
        <div style="padding: 5px;">在重置处理人之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeReset", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:afterReset">Top</a>Event:afterReset</div>
        <div style="padding: 5px;">在重置处理人之后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("afterReset", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeRetract">Top</a>Event:beforeRetract</div>
        <div style="padding: 5px;">在文档撤回之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeRetract", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:afterRetract">Top</a>Event:afterRetract</div>
        <div style="padding: 5px;">在文档撤回之后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("afterRetract", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeReroute">Top</a>Event:beforeReroute</div>
        <div style="padding: 5px;">在文档调度之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeReroute", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:afterReroute">Top</a>Event:afterReroute</div>
        <div style="padding: 5px;">在文档调度之后执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("afterReroute", function(){
    //event code
});</textarea>

        <div style="height: 5px; border-top:2px solid #dddddd; margin: 30px 0px 5px 0px"></div>
        <div class="session"><a href="#top" class="top" name="form:Event:beforeDelete">Top</a>Event:beforeDelete</div>
        <div style="padding: 5px;">在文档删除之前执行。</div>
        <div class="title">Signature:</div>
        <textarea class="code-javascript">this.form.addEvent("beforeDelete", function(){
    //event code
});</textarea>

    </div>

    <div style="height: 5px; border-top:2px solid #dddddd; margin: 5px 0px"></div>

<script>
    (function(){
        $(".code-javascript").each(function(i, node){
            highlight(node);
        });
    })();
</script>
</body>
</html>
